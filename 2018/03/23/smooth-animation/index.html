<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.3" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.3">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.3" color="#222">





  <meta name="keywords" content="æ€§èƒ½ä¼˜åŒ–,requestAnimationFrame,Web Worker," />










<meta name="description" content="æœ¬æ–‡ä¸»è¦é’ˆå¯¹æ€§èƒ½ä¼˜åŒ–ä¸­ï¼Œé¡µé¢äº¤äº’ä¸Šï¼ˆæ‹–æ‹½ã€æ»šåŠ¨ç­‰ï¼‰çš„å¡é¡¿é—®é¢˜ã€‚ 1. ä¸ºä½•å‡ºç°å¡é¡¿ä¸€èˆ¬æ¥è®²ï¼Œ60FPSï¼ˆ60å¸§/ç§’ï¼‰å¯¹äººç±»æ˜¯æœ€ä½³ä½“éªŒï¼Œé‚£ä¹ˆæ¢ç®—æˆä¸€å¸§éœ€è¦çš„ç§’æ•°ï¼Œå°±æ˜¯16.7msï¼Œå¦‚æœé«˜äºè¿™ä¸ªæ—¶é—´ï¼Œå°±å¯èƒ½ä¼šå‡ºç°ç”»é¢è·³è·ƒæ„Ÿï¼ˆå³å¡é¡¿ï¼‰ï¼Œå…³äºFPSå’Œäººçœ¼ä»¥åŠåŒæ ·FPSçš„ç”µå½±ä¸æ¸¸æˆçš„åŒºåˆ«å‚è€ƒæ–‡æœ«çŸ¥ä¹é—®ç­”é“¾æ¥ã€‚">
<meta name="keywords" content="æ€§èƒ½ä¼˜åŒ–,requestAnimationFrame,Web Worker">
<meta property="og:type" content="article">
<meta property="og:title" content="å‰ç«¯æ€§èƒ½ä¼˜åŒ–ï¼ˆä¸€ã€é¡µé¢å¡é¡¿é—®é¢˜ï¼‰">
<meta property="og:url" content="https://noname4me.github.io/2018/03/23/smooth-animation/index.html">
<meta property="og:site_name" content="è¾£æ‰‹æ‘§èŠ±">
<meta property="og:description" content="æœ¬æ–‡ä¸»è¦é’ˆå¯¹æ€§èƒ½ä¼˜åŒ–ä¸­ï¼Œé¡µé¢äº¤äº’ä¸Šï¼ˆæ‹–æ‹½ã€æ»šåŠ¨ç­‰ï¼‰çš„å¡é¡¿é—®é¢˜ã€‚ 1. ä¸ºä½•å‡ºç°å¡é¡¿ä¸€èˆ¬æ¥è®²ï¼Œ60FPSï¼ˆ60å¸§/ç§’ï¼‰å¯¹äººç±»æ˜¯æœ€ä½³ä½“éªŒï¼Œé‚£ä¹ˆæ¢ç®—æˆä¸€å¸§éœ€è¦çš„ç§’æ•°ï¼Œå°±æ˜¯16.7msï¼Œå¦‚æœé«˜äºè¿™ä¸ªæ—¶é—´ï¼Œå°±å¯èƒ½ä¼šå‡ºç°ç”»é¢è·³è·ƒæ„Ÿï¼ˆå³å¡é¡¿ï¼‰ï¼Œå…³äºFPSå’Œäººçœ¼ä»¥åŠåŒæ ·FPSçš„ç”µå½±ä¸æ¸¸æˆçš„åŒºåˆ«å‚è€ƒæ–‡æœ«çŸ¥ä¹é—®ç­”é“¾æ¥ã€‚">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="https://raw.githubusercontent.com/NoName4Me/blog/master/source/_posts/smooth-animation/performance.png">
<meta property="og:image" content="https://raw.githubusercontent.com/NoName4Me/blog/master/source/_posts/smooth-animation/code-analyze.png">
<meta property="og:image" content="https://developers.google.com/web/fundamentals/performance/rendering/images/debounce-your-input-handlers/compositor-scroll.jpg">
<meta property="og:image" content="https://developers.google.com/web/fundamentals/performance/rendering/images/debounce-your-input-handlers/ontouchmove.jpg">
<meta property="og:image" content="https://developers.google.com/web/fundamentals/performance/rendering/images/avoid-large-complex-layouts-and-layout-thrashing/frame.jpg">
<meta property="og:image" content="https://developers.google.com/web/fundamentals/performance/rendering/images/debounce-your-input-handlers/frame-with-input.jpg">
<meta property="og:updated_time" content="2018-03-24T09:04:51.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="å‰ç«¯æ€§èƒ½ä¼˜åŒ–ï¼ˆä¸€ã€é¡µé¢å¡é¡¿é—®é¢˜ï¼‰">
<meta name="twitter:description" content="æœ¬æ–‡ä¸»è¦é’ˆå¯¹æ€§èƒ½ä¼˜åŒ–ä¸­ï¼Œé¡µé¢äº¤äº’ä¸Šï¼ˆæ‹–æ‹½ã€æ»šåŠ¨ç­‰ï¼‰çš„å¡é¡¿é—®é¢˜ã€‚ 1. ä¸ºä½•å‡ºç°å¡é¡¿ä¸€èˆ¬æ¥è®²ï¼Œ60FPSï¼ˆ60å¸§/ç§’ï¼‰å¯¹äººç±»æ˜¯æœ€ä½³ä½“éªŒï¼Œé‚£ä¹ˆæ¢ç®—æˆä¸€å¸§éœ€è¦çš„ç§’æ•°ï¼Œå°±æ˜¯16.7msï¼Œå¦‚æœé«˜äºè¿™ä¸ªæ—¶é—´ï¼Œå°±å¯èƒ½ä¼šå‡ºç°ç”»é¢è·³è·ƒæ„Ÿï¼ˆå³å¡é¡¿ï¼‰ï¼Œå…³äºFPSå’Œäººçœ¼ä»¥åŠåŒæ ·FPSçš„ç”µå½±ä¸æ¸¸æˆçš„åŒºåˆ«å‚è€ƒæ–‡æœ«çŸ¥ä¹é—®ç­”é“¾æ¥ã€‚">
<meta name="twitter:image" content="https://raw.githubusercontent.com/NoName4Me/blog/master/source/_posts/smooth-animation/performance.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.3',
    sidebar: {"position":"left","display":"always","offset":12,"b2t":false,"scrollpercent":true,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'åšä¸»'
    },
    algolia: {
      applicationID: 'PCAKTMI1LK',
      apiKey: 'f2bd0f0cb37fa470984ffb7c66efa97c',
      indexName: 'jonge_club_search',
      hits: {"per_page":10},
      labels: {"input_placeholder":"æœç´¢å§ï¼Œå°‘å¹´ï½","hits_empty":"ä¸å¥½æ„æ€ï¼Œæœ¨æœ‰'${query}'çš„æœç´¢ç»“æœğŸ˜‚","hits_stats":"ç»“æœï¼š${hits} ï¼Œè€—æ—¶ï¼š ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://noname4me.github.io/2018/03/23/smooth-animation/"/>





  <title>å‰ç«¯æ€§èƒ½ä¼˜åŒ–ï¼ˆä¸€ã€é¡µé¢å¡é¡¿é—®é¢˜ï¼‰ | è¾£æ‰‹æ‘§èŠ±</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">è¾£æ‰‹æ‘§èŠ±</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description">ç‰¢éªšå¤ªèƒœé˜²è‚ æ–­ï¼Œé£ç‰©é•¿å®œæ”¾çœ¼é‡ã€‚</h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            æ ‡ç­¾
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            åˆ†ç±»
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            å½’æ¡£
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            æœç´¢
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  
  <div class="algolia-popup popup search-popup">
    <div class="algolia-search">
      <div class="algolia-search-input-icon">
        <i class="fa fa-search"></i>
      </div>
      <div class="algolia-search-input" id="algolia-search-input"></div>
    </div>

    <div class="algolia-results">
      <div id="algolia-stats"></div>
      <div id="algolia-hits"></div>
      <div id="algolia-pagination" class="algolia-pagination"></div>
    </div>

    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
  </div>




    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://noname4me.github.io/2018/03/23/smooth-animation/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ä¸¥è‚ƒçš„äºŒå”">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="è¾£æ‰‹æ‘§èŠ±">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">å‰ç«¯æ€§èƒ½ä¼˜åŒ–ï¼ˆä¸€ã€é¡µé¢å¡é¡¿é—®é¢˜ï¼‰</h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-03-23T23:19:52+08:00">
                2018-03-23
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/å‰ç«¯/" itemprop="url" rel="index">
                    <span itemprop="name">å‰ç«¯</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
            <!--noindex-->
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/03/23/smooth-animation/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count hc-comment-count" data-xid="2018/03/23/smooth-animation/" itemprop="commentsCount"></span>
                </a>
              </span>
              <!--/noindex-->
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p><em>æœ¬æ–‡ä¸»è¦é’ˆå¯¹æ€§èƒ½ä¼˜åŒ–ä¸­ï¼Œé¡µé¢äº¤äº’ä¸Šï¼ˆæ‹–æ‹½ã€æ»šåŠ¨ç­‰ï¼‰çš„å¡é¡¿é—®é¢˜ã€‚</em></p>
<h1 id="1-ä¸ºä½•å‡ºç°å¡é¡¿"><a href="#1-ä¸ºä½•å‡ºç°å¡é¡¿" class="headerlink" title="1. ä¸ºä½•å‡ºç°å¡é¡¿"></a>1. ä¸ºä½•å‡ºç°å¡é¡¿</h1><p>ä¸€èˆ¬æ¥è®²ï¼Œ60FPSï¼ˆ60å¸§/ç§’ï¼‰å¯¹äººç±»æ˜¯æœ€ä½³ä½“éªŒï¼Œé‚£ä¹ˆæ¢ç®—æˆä¸€å¸§éœ€è¦çš„ç§’æ•°ï¼Œå°±æ˜¯<code>16.7ms</code>ï¼Œå¦‚æœé«˜äºè¿™ä¸ªæ—¶é—´ï¼Œå°±å¯èƒ½ä¼šå‡ºç°ç”»é¢è·³è·ƒæ„Ÿï¼ˆå³å¡é¡¿ï¼‰ï¼Œå…³äºFPSå’Œäººçœ¼ä»¥åŠåŒæ ·FPSçš„ç”µå½±ä¸æ¸¸æˆçš„åŒºåˆ«å‚è€ƒæ–‡æœ«<em>çŸ¥ä¹é—®ç­”é“¾æ¥</em>ã€‚<br><a id="more"></a><br><strong>æ³¨æ„</strong>ï¼šè¿™é‡Œä¸€ç§’60å¸§ï¼Œè¯´çš„æ˜¯å‡åŒ€çš„ï¼Œä¸æ˜¯å‰åŠç§’59å¸§ï¼ŒååŠç§’1å¸§ï¼Œè¿™æ ·çš„çœ‹èµ·æ¥ä¾ç„¶ä¼šå¡ï¼Œå³æµç•…éœ€è¦<em>å¸§é—´éš”</em>æ˜¯ç¨³å®šçš„ã€‚</p>
<table>
<thead>
<tr>
<th>FPS</th>
<th>ms/å¸§</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>120</code></td>
<td><code>8.3</code></td>
</tr>
<tr>
<td><code>60</code></td>
<td><code>16.7</code></td>
</tr>
<tr>
<td><code>30</code></td>
<td><code>33.3</code></td>
</tr>
<tr>
<td><code>24</code></td>
<td><code>41.7</code></td>
</tr>
</tbody>
</table>
<h1 id="2-å®ä¾‹åˆ†æ"><a href="#2-å®ä¾‹åˆ†æ" class="headerlink" title="2. å®ä¾‹åˆ†æ"></a>2. å®ä¾‹åˆ†æ</h1><p>æ¼”ç¤ºä»£ç è·å–ï¼š<a href="https://github.com/NoName4Me/blog/tree/master/source/_posts/smooth-animation/code" target="_blank" rel="external">ç‚¹å‡»è¿™é‡Œ</a>ã€‚</p>
<h2 id="2-1-åˆ©ç”¨Chrome-DevToolçš„Performanceåˆ†æé—®é¢˜"><a href="#2-1-åˆ©ç”¨Chrome-DevToolçš„Performanceåˆ†æé—®é¢˜" class="headerlink" title="2.1 åˆ©ç”¨Chrome DevToolçš„Performanceåˆ†æé—®é¢˜"></a>2.1 åˆ©ç”¨Chrome DevToolçš„<code>Performance</code>åˆ†æé—®é¢˜</h2><p>é‚£ä¹ˆåœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬å¦‚ä½•è¿›è¡Œè°ƒä¼˜ï¼Ÿä¸‹é¢é€šè¿‡Chrome DevToolä¸‹çš„<code>Performance</code>ä¸­çš„åŠŸèƒ½è¿›è¡Œæ¼”ç¤ºï¼š</p>
<p>è¿›å…¥è¯¥é¡µç­¾åï¼Œç‚¹å‡»å·¦ä¸Šè§’å½•åˆ¶æŒ‰é’®ï¼ˆæˆ–<code>Ctrl+E</code>ï¼‰è¿›è¡Œå½•åˆ¶ï¼Œç„¶åæ“ä½œé¡µé¢ï¼Œè®°å½•éœ€è¦åˆ†æçš„äº¤äº’ï¼Œç‚¹å‡»<code>stop</code>å®Œæˆå½•åˆ¶ï¼Œä¸‹é¢è¿›è¡Œåˆ†æã€‚</p>
<p>åœ¨é¡¶éƒ¨çš„å›¾æ ‡é‡Œï¼Œä»ä¸Šåˆ°ä¸‹ä¾æ¬¡ä¸ºFPSã€CPUã€NETçš„è¡¨ç°ï¼Œæˆ‘ä»¬å…³æ³¨FPSï¼Œå¦‚æœå‡ºç°çº¢è‰²ï¼Œè¯´æ˜ä¸€ç§’çš„å¸§æ•°è¿‡å°‘ï¼Œæœ‰å¡é¡¿ï¼Œçº¢è‰²ä¸‹é¢ç»¿è‰²ä»£è¡¨FPSï¼Œè¶Šé«˜è¯´æ˜æ€§èƒ½è¶Šå¥½ã€‚</p>
<p><img src="https://raw.githubusercontent.com/NoName4Me/blog/master/source/_posts/smooth-animation/performance.png" width="560"></p>
<p>å¦‚æœå½•åˆ¶æ—¶é—´è¾ƒé•¿ï¼Œæˆ‘ä»¬å¯ä»¥ç‚¹å‡»å…·ä½“æœ‰é—®é¢˜çš„éƒ¨åˆ†æ·±å…¥åˆ†æï¼Œå›¾ä¸­Mainï¼ˆç¬¬2ä¸ªè“è‰²æ¡†é‡Œï¼‰ä¸­æ˜¾ç¤ºäº†å…·ä½“çš„äº‹ä»¶ï¼Œå¯ä»¥çœ‹åˆ°è€—æ—¶çš„åœ°æ–¹å‡ºåœ¨äº†JSçš„å¤„ç†ä¸­ï¼ˆé»„è‰²æ˜¯è„šæœ¬è€—æ—¶ï¼Œç´«è‰²æ˜¯æ¸²æŸ“è€—æ—¶ï¼‰ï¼Œä»ä¸Šåˆ°ä¸‹ä¸ºJSçš„è°ƒç”¨æ ˆï¼ˆå›¾ä¸­å¯ä»¥çœ‹åˆ°é—®é¢˜å‡ºåœ¨äº†<code>mousemove</code>äº‹ä»¶ä¸­è°ƒç”¨æŸä¸ªå‡½æ•°æ—¶ï¼‰ï¼Œæˆ‘ä»¬é€‰ä¸­æœ€ä¸‹é¢çš„ï¼ˆæºå¤´ï¼‰ï¼ŒæŸ¥çœ‹å›¾ä¸­ç¬¬3ä¸ªè“æ¡†é‡Œçš„å†…å®¹ï¼Œç‚¹å‡»<code>script.js</code>è¿›å…¥åˆ°å…·ä½“ä»£ç æ‰§è¡Œåˆ†æï¼Œå…¶å®ƒtabé‡Œçš„ä¸œè¥¿æ„Ÿå…´è¶£å¯ä»¥è‡ªå·±äº†è§£ã€‚</p>
<p>ä»£ç æ‰§è¡Œè€—æ—¶åˆ†æå¦‚ä¸‹ï¼Œå¯ä»¥çœ‹åˆ°æ˜¯è¿™ä¸ª<code>delay()</code>å‡½æ•°æ¯”è¾ƒè€—æ—¶å¼•èµ·çš„ï¼Œè¿™é‡Œåªæ˜¯ä¸ºäº†ç¤ºä¾‹æ‰€ä»¥ç”¨äº†å¾ªç¯æ¥ä¸»åŠ¨è€—æ—¶ï¼Œå®é™…å¼€å‘ä¸­ä»€ä¹ˆç¥å¥‡çš„ä»£ç éƒ½ä¼šæœ‰ï¼Œå…·ä½“é—®é¢˜å…·ä½“åˆ†æã€‚</p>
<p><img src="https://raw.githubusercontent.com/NoName4Me/blog/master/source/_posts/smooth-animation/code-analyze.png" width="480"></p>
<p>è¿™ç§åœ¨é¢‘ç¹éœ€è¦æ›´æ–°é¡µé¢çš„äº‹ä»¶é‡Œï¼Œå¤§è§„æ¨¡å¹¶ä¸ç›´æ¥ç›¸å…³çš„è®¡ç®—åº”è¯¥é¿å…æˆ–å¼‚æ­¥å¤„ç†ã€‚</p>
<ul>
<li>ä¸€ä¸ªçœ‹æ¥èµ·æ¥æš‚æ—¶è²Œä¼¼æ²¡ä»€ä¹ˆåµç”¨çš„ä¸œè¥¿</li>
</ul>
<p><code>Ctrl+Shift+P</code>è¾“å…¥<code>rendering</code>ï¼Œé€‰æ‹©<code>Showing Rendering</code>ï¼Œå‹¾é€‰<code>FPS Meter</code>ï¼Œä¼šçœ‹åˆ°å³ä¸Šè§’çš„å®æ—¶FPSç­‰å‚æ•°ï¼Œå–æ¶ˆå‹¾é€‰<code>FPS Meter</code>ï¼ŒæŒ‰ä¸‹<code>ESC</code>é€€å‡º<code>Show Rendering</code>ã€‚</p>
<h2 id="2-2-requestAnimationFrameæ˜¯ä»€ä¹ˆ"><a href="#2-2-requestAnimationFrameæ˜¯ä»€ä¹ˆ" class="headerlink" title="2.2 requestAnimationFrameæ˜¯ä»€ä¹ˆ"></a>2.2 <code>requestAnimationFrame</code>æ˜¯ä»€ä¹ˆ</h2><p><strong>æ³¨</strong>ï¼šåé¢RAFä¸ºrequestAnimationFrameçš„ç®€å†™ã€‚</p>
<p>åœ¨ä¸€äº›åŠ¨ç”»ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å®šæ—¶å»æ›´æ–°é¡µé¢ï¼Œæ¥å±•ç¤ºä¸åŒçš„ä¿¡æ¯ï¼Œä¸€èˆ¬ä¼šé‡‡ç”¨<code>setTimeout</code>ã€<code>setInterval</code>ï¼Œä½†å¯èƒ½ä¼šå› ä¸ºå›è°ƒè§¦å‘æ—¶é—´åœ¨å¸§æœ«å°¾ï¼Œä»è€Œå‡ºç°ä¸¢å¸§å¯¼è‡´çš„å¡é¡¿ç°è±¡ï¼Œè€ŒRAFå¯ä»¥ä¿è¯ä½ çš„JSä»£ç åœ¨æ¯å¸§å¸§é¦–æ‰§è¡Œã€‚</p>
<p>æ¯”å¦‚ï¼Œä¸‹é¢çš„è¿›åº¦å±•ç¤ºï¼Œåœ¨<code>2000ms</code>å†…éšç€æ¯ä¸€å¸§æ›´æ–°å…ƒç´ ä½ç½®ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> start = <span class="literal">null</span>;</div><div class="line"><span class="keyword">var</span> element = <span class="built_in">document</span>.getElementById(<span class="string">'SomeElementYouWantToAnimate'</span>);</div><div class="line">element.style.position = <span class="string">'absolute'</span>;</div><div class="line">element.style.width = <span class="string">'100px'</span>;</div><div class="line">element.style.height = <span class="string">'40px'</span>;</div><div class="line">element.style.background = <span class="string">'red'</span>;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">step</span>(<span class="params">timestamp</span>) </span>&#123; <span class="comment">// timestampæ˜¯RAFé»˜è®¤çš„ä¼ ç»™handlerçš„å…¥å‚ï¼Œç”±performance.now()ç”Ÿæˆ</span></div><div class="line">  <span class="keyword">if</span> (!start) start = timestamp;</div><div class="line">  <span class="keyword">var</span> progress = timestamp - start;</div><div class="line">  element.style.left = <span class="built_in">Math</span>.min(progress / <span class="number">10</span>, <span class="number">200</span>) + <span class="string">'px'</span>;</div><div class="line">  <span class="keyword">if</span> (progress &lt; <span class="number">2000</span>) &#123;</div><div class="line">    <span class="built_in">window</span>.requestAnimationFrame(step); <span class="comment">// è¿™é‡Œå¦‚æœæ²¡æœ‰æ‰§è¡Œå°±ä¸ä¼šå†è§¦å‘step()</span></div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="built_in">window</span>.requestAnimationFrame(step);</div></pre></td></tr></table></figure>
<h2 id="2-3-ä¸‰ä¸ªåŸåˆ™"><a href="#2-3-ä¸‰ä¸ªåŸåˆ™" class="headerlink" title="2.3 ä¸‰ä¸ªåŸåˆ™"></a>2.3 ä¸‰ä¸ªåŸåˆ™</h2><h3 id="2-3-1-é¿å…è€—æ—¶çš„äº‹ä»¶handler"><a href="#2-3-1-é¿å…è€—æ—¶çš„äº‹ä»¶handler" class="headerlink" title="2.3.1 é¿å…è€—æ—¶çš„äº‹ä»¶handler"></a>2.3.1 é¿å…è€—æ—¶çš„äº‹ä»¶handler</h3><p>ä¸€èˆ¬çš„äº‹ä»¶å¤„ç†æ˜¯åœ¨é¡µé¢çš„åˆæˆå™¨çº¿ç¨‹ä¸­è¿›è¡Œï¼Œä¸ä¼šè§¦å‘ä¸»çº¿ç¨‹å¤„ç†ï¼š</p>
<p><img width="480" src="https://developers.google.com/web/fundamentals/performance/rendering/images/debounce-your-input-handlers/compositor-scroll.jpg"></p>
<p>è€Œå¦‚æœï¼Œä½ ç»™äº‹ä»¶ç»‘å®šäº†handlerï¼ˆæ¯”å¦‚ä¸‹å›¾ä¸­çš„<code>onTouchMove</code>ï¼‰ï¼Œé‚£ä¹ˆé¡µé¢åˆæˆå™¨çº¿ç¨‹å°±ä¼šä¸€ç›´ç­‰å¾…handlerå®Œæˆï¼Œè¿™æ ·å°±ä¼šé˜»å¡åˆæˆå™¨è¿›è¡Œåç»­çš„åŠ¨ä½œï¼š</p>
<p><img width="480" src="https://developers.google.com/web/fundamentals/performance/rendering/images/debounce-your-input-handlers/ontouchmove.jpg"></p>
<p>æ‰€ä»¥å‘¢ï¼Œè¦ä¿è¯ä½ çš„handleræ‰§è¡Œé€Ÿåº¦ã€‚</p>
<h3 id="2-3-2-é¿å…è¿‡åº¦çš„RAF"><a href="#2-3-2-é¿å…è¿‡åº¦çš„RAF" class="headerlink" title="2.3.2 é¿å…è¿‡åº¦çš„RAF"></a>2.3.2 é¿å…è¿‡åº¦çš„RAF</h3><p>å…³äºRAFï¼ŒW3Cä¸Šæœ‰è¿™ä¹ˆä¸€æ®µ<em>Note</em>ï¼š</p>
<blockquote>
<p>Also note that multiple calls to requestAnimationFrame with the same callback (before callbacks are invoked and the list is cleared) will result in multiple entries being in the list with that same callback, and thus will result in that callback being invoked more than once for the animation frame.</p>
<p>â€” <a href="https://www.w3.org/TR/animation-timing/#dom-windowanimationtiming-requestanimationframe" target="_blank" rel="external">w3c: Timing control for script-based animations</a></p>
</blockquote>
<p>ä¸€ä¸ªRAFåœ¨äº‹ä»¶handleré‡Œï¼Œå¦‚æœäº‹ä»¶è§¦å‘çš„éå¸¸å¿«é€Ÿï¼ˆå°äºä¸€å¸§çš„å‘¨æœŸï¼‰ï¼Œé‚£ä¹ˆå°±ä¼šå‡ºç°ä¸Šé¢çš„æƒ…å†µâ€”â€”å¤šæ¬¡RAFäº†åŒä¸€ä¸ªå›è°ƒï¼Œè¿™æ ·åœ¨ä¸€å¸§ä¸­ä¼šå¤šæ¬¡æ¿€æ´»å›è°ƒå‡½æ•°ï¼Œå¯ä»¥åœ¨handleré‡Œå¢åŠ æ ‡å¿—é‡æ¥åˆ¤åˆ«ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> onScroll = <span class="function"><span class="params">e</span> =&gt;</span> &#123;</div><div class="line">    <span class="keyword">if</span> (scheduledAnimationFrame) &#123; <span class="keyword">return</span> &#125;</div><div class="line"></div><div class="line">    scheduledAnimationFrame = <span class="literal">true</span></div><div class="line">    <span class="built_in">window</span>.requestAnimationFrame(<span class="function"><span class="params">timestamp</span> =&gt;</span> &#123;</div><div class="line">        scheduledAnimationFrame = <span class="literal">false</span></div><div class="line">        animation(timestamp)</div><div class="line">    &#125;)</div><div class="line">&#125;</div><div class="line"><span class="built_in">window</span>.addEventListener(<span class="string">'scroll'</span>, onScroll)</div></pre></td></tr></table></figure>
<h3 id="2-3-3-é¿å…åœ¨äº‹ä»¶handleré‡Œä¿®æ”¹æ ·å¼"><a href="#2-3-3-é¿å…åœ¨äº‹ä»¶handleré‡Œä¿®æ”¹æ ·å¼" class="headerlink" title="2.3.3 é¿å…åœ¨äº‹ä»¶handleré‡Œä¿®æ”¹æ ·å¼"></a>2.3.3 é¿å…åœ¨äº‹ä»¶handleré‡Œä¿®æ”¹æ ·å¼</h3><p>æˆ‘ä»¬çŸ¥é“ï¼Œä¸€å¸§çš„è¾“å‡ºæ˜¯ç»è¿‡è¿™ä¹ˆäº›æ­¥éª¤çš„ï¼š</p>
<p><img src="https://developers.google.com/web/fundamentals/performance/rendering/images/avoid-large-complex-layouts-and-layout-thrashing/frame.jpg"></p>
<p>é¦–å…ˆJSè¿è¡Œï¼Œç„¶åè®¡ç®—æ ·å¼ï¼Œç„¶åå¸ƒå±€ã€‚ä½†æ˜¯ï¼Œå¯ä»¥ä½¿ç”¨JSå¼ºåˆ¶æµè§ˆå™¨æå‰æ‰§è¡Œå¸ƒå±€ï¼Œè¿™è¢«ç§°ä¸ºå¼ºåˆ¶åŒæ­¥å¸ƒå±€ï¼š</p>
<p>äº‹ä»¶ä¼šåœ¨RAFå›è°ƒæ‰§è¡Œå‰è§¦å‘ï¼Œå¦‚æœåœ¨äº‹ä»¶ä¸­è¿›è¡Œäº†æŸä¸ªå…ƒç´ çš„æ ·å¼æ”¹åŠ¨ï¼Œåœ¨RAFå‰ï¼Œè¿™äº›æ”¹åŠ¨ä¼šæŒ‚èµ·ï¼Œå¦‚æœåœ¨RAFå›è°ƒä¸­åˆè¯»å–å…ƒç´ æ ·å¼ï¼Œè¿™æ ·å°±ä¼šå¯¼è‡´å¼ºåˆ¶åŒæ­¥å¸ƒå±€ï¼ˆå¦‚ä¸‹å›¾ï¼‰ï¼Œè¿™ç§äº‹æƒ…åº”è¯¥è¢«é¿å…ï¼ˆæ¯”å¦‚<strong>å¯ä»¥æå‰ä¿å­˜è¦è¯»å–çš„å€¼ï¼Œåé¢ä½¿ç”¨è¯¥ä¿å­˜å€¼ï¼Œè€Œä¸æ˜¯ç›´æ¥è¯»å–å…ƒç´ æ ·å¼</strong>ï¼‰ï¼Œå› ä¸ºå®ƒæ‰“ä¹±äº†æ­£å¸¸çš„60FPSè§¦å‘å¥—è·¯ï¼ˆå¦‚ä¸Šå›¾ï¼‰ã€‚</p>
<p><img src="https://developers.google.com/web/fundamentals/performance/rendering/images/debounce-your-input-handlers/frame-with-input.jpg"></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">onScroll</span> (<span class="params">evt</span>) </span>&#123;</div><div class="line"></div><div class="line">  <span class="comment">// Store the scroll value for laterz.</span></div><div class="line">  lastScrollY = <span class="built_in">window</span>.scrollY; <span class="comment">// 2.3.3åŸåˆ™</span></div><div class="line"></div><div class="line">  <span class="comment">// Prevent multiple rAF callbacks.</span></div><div class="line">  <span class="keyword">if</span> (scheduledAnimationFrame) <span class="comment">// 2.3.2åŸåˆ™</span></div><div class="line">    <span class="keyword">return</span>;</div><div class="line"></div><div class="line">  scheduledAnimationFrame = <span class="literal">true</span>;</div><div class="line">  requestAnimationFrame(readAndUpdatePage);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="built_in">window</span>.addEventListener(<span class="string">'scroll'</span>, onScroll);</div></pre></td></tr></table></figure>
<h2 id="2-4-Web-Workerå’Œå¾®ä»»åŠ¡"><a href="#2-4-Web-Workerå’Œå¾®ä»»åŠ¡" class="headerlink" title="2.4 Web Workerå’Œå¾®ä»»åŠ¡"></a>2.4 <code>Web Worker</code>å’Œå¾®ä»»åŠ¡</h2><p>å½“ä¸€äº›è€—æ—¶çš„JSå¤„ç†ä¸æ ·å¼è®¡ç®—ã€å¸ƒå±€åœ¨ä¸€èµ·æ—¶ï¼Œä¼šé˜»å¡å®ƒä»¬å¯¹ç•Œé¢çš„åŠæ—¶æ›´æ–°ï¼Œæ­¤æ—¶å¦‚æœé‚£äº›JSå¤„ç†å¹¶ä¸å…³æ³¨DOMï¼Œå¯ä»¥æ”¾åˆ°<code>Web Worker</code>é‡Œï¼ˆå¦‚ä¸‹ç¤ºä¾‹ï¼‰ï¼Œä½†æ˜¯æ³¨æ„ï¼Œ<code>Web Worker</code>æ²¡æœ‰DOMè®¿é—®æƒé™ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> dataSortWorker = <span class="keyword">new</span> Worker(<span class="string">"sort-worker.js"</span>);</div><div class="line">dataSortWorker.postMesssage(dataToSort);</div><div class="line"></div><div class="line"><span class="comment">// The main thread is now free to continue working on other things...</span></div><div class="line"></div><div class="line">dataSortWorker.addEventListener(<span class="string">'message'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">evt</span>) </span>&#123;</div><div class="line">   <span class="keyword">var</span> sortedData = evt.data;</div><div class="line">   <span class="comment">// Update data on screen...</span></div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>ä½†æ˜¯å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬æ—¶éœ€è¦åœ¨ä¸»çº¿ç¨‹ä¸Šè¿è¡Œæˆ‘ä»¬çš„ä»»åŠ¡ï¼Œæ­¤æ—¶ï¼Œå¯ä»¥è€ƒè™‘å°†å¤§ä»»åŠ¡åˆ†å‰²æˆå¾®ä»»åŠ¡ï¼Œé€šè¿‡<code>requestAnimationFrame</code>æ¥å¤„ç†ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> taskList = breakBigTaskIntoMicroTasks(monsterTaskList);</div><div class="line">requestAnimationFrame(processTaskList);</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">processTaskList</span>(<span class="params">taskStartTime</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> taskFinishTime;</div><div class="line"></div><div class="line">  <span class="keyword">do</span> &#123;</div><div class="line">    <span class="comment">// Assume the next task is pushed onto a stack.</span></div><div class="line">    <span class="keyword">var</span> nextTask = taskList.pop();</div><div class="line"></div><div class="line">    <span class="comment">// Process nextTask.</span></div><div class="line">    processTask(nextTask);</div><div class="line"></div><div class="line">    <span class="comment">// Go again if thereâ€™s enough time to do the next task.</span></div><div class="line">    taskFinishTime = <span class="built_in">window</span>.performance.now();</div><div class="line">  &#125; <span class="keyword">while</span> (taskFinishTime - taskStartTime &lt; <span class="number">3</span>);</div><div class="line"></div><div class="line">  <span class="keyword">if</span> (taskList.length &gt; <span class="number">0</span>)</div><div class="line">    requestAnimationFrame(processTaskList);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<hr>
<h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><ol>
<li><a href="https://developers.google.com/web/tools/chrome-devtools/evaluate-performance/" target="_blank" rel="external">Google Web Developer #Analyze Runtime Performance</a></li>
<li><a href="https://www.zhihu.com/question/21081976/answer/34748080" target="_blank" rel="external">çŸ¥ä¹é—®ç­”ï¼šæ˜¯ä¸æ˜¯æ¸¸æˆå¸§æ•°ä¸€èˆ¬è¦åˆ° 60 å¸§æ¯ç§’æ‰æµç•…ï¼Œè€Œè¿‡å»çš„å¤§éƒ¨åˆ†ç”µå½±å¸§æ•°åªæœ‰ 24 å¸§æ¯ç§’å´æ²¡æœ‰ä¸æµç•…æ„Ÿï¼Ÿ</a></li>
<li><a href="https://www.zhihu.com/question/52397668" target="_blank" rel="external">çŸ¥ä¹é—®ç­”ï¼šäººçœ¼å¸§æ•°æ˜¯å¦ä¸èƒ½é«˜äº 30 ï¼Œæå®‰ 120 å¸§çš„ç”µå½±æ˜¯å¦æ²¡æœ‰æ„ä¹‰ï¼Ÿ</a></li>
</ol>

      
    </div>
    
    
    

    

    

    
      <div>
        <ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>æœ¬æ–‡ä½œè€…ï¼š</strong>
    ä¸¥è‚ƒçš„äºŒå”
  </li>
  <li class="post-copyright-link">
    <strong>æœ¬æ–‡é“¾æ¥ï¼š</strong>
    <a href="https://noname4me.github.io/2018/03/23/smooth-animation/" title="å‰ç«¯æ€§èƒ½ä¼˜åŒ–ï¼ˆä¸€ã€é¡µé¢å¡é¡¿é—®é¢˜ï¼‰">https://noname4me.github.io/2018/03/23/smooth-animation/</a>
  </li>
  <li class="post-copyright-license">
    <strong>ç‰ˆæƒå£°æ˜ï¼š </strong>
    æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/" rel="external nofollow" target="_blank">CC BY-NC-SA 3.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼
  </li>
</ul>

      </div>
    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/æ€§èƒ½ä¼˜åŒ–/" rel="tag"># æ€§èƒ½ä¼˜åŒ–</a>
          
            <a href="/tags/requestAnimationFrame/" rel="tag"># requestAnimationFrame</a>
          
            <a href="/tags/Web-Worker/" rel="tag"># Web Worker</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/03/22/css-3d/" rel="next" title="css3ä¸­3Dç›¸å…³æ ·å¼æµ…å°">
                <i class="fa fa-chevron-left"></i> css3ä¸­3Dç›¸å…³æ ·å¼æµ…å°
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/03/25/nodejs-template-engine/" rel="prev" title="JSæ¨¡ç‰ˆå¼•æ“ï¼ˆnunjucksï¼‰">
                JSæ¨¡ç‰ˆå¼•æ“ï¼ˆnunjucksï¼‰ <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
      <div id="hypercomments_widget"></div>
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            æ–‡ç« ç›®å½•
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            ç«™ç‚¹æ¦‚è§ˆ
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/uploads/avatar.jpeg"
                alt="ä¸¥è‚ƒçš„äºŒå”" />
            
              <p class="site-author-name" itemprop="name">ä¸¥è‚ƒçš„äºŒå”</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">41</span>
                  <span class="site-state-item-name">æ—¥å¿—</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">6</span>
                  <span class="site-state-item-name">åˆ†ç±»</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">58</span>
                  <span class="site-state-item-name">æ ‡ç­¾</span>
                </a>
              </div>
            

          </nav>

          

          <div class="links-of-author motion-element">
            
              
                <span class="links-of-author-item">
                  <a href="https://github.com/noname4me" target="_blank" title="GitHub">
                    
                      <i class="fa fa-fw fa-github"></i></a>
                </span>
              
                <span class="links-of-author-item">
                  <a href="https://twitter.com/jonge" target="_blank" title="Twitter">
                    
                      <i class="fa fa-fw fa-twitter"></i></a>
                </span>
              
                <span class="links-of-author-item">
                  <a href="https://www.pinterest.ca/anichevas/" target="_blank" title="Pinterest">
                    
                      <i class="fa fa-fw fa-pinterest"></i></a>
                </span>
              
            
          </div>

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#1-ä¸ºä½•å‡ºç°å¡é¡¿"><span class="nav-text">1. ä¸ºä½•å‡ºç°å¡é¡¿</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#2-å®ä¾‹åˆ†æ"><span class="nav-text">2. å®ä¾‹åˆ†æ</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#2-1-åˆ©ç”¨Chrome-DevToolçš„Performanceåˆ†æé—®é¢˜"><span class="nav-text">2.1 åˆ©ç”¨Chrome DevToolçš„Performanceåˆ†æé—®é¢˜</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-2-requestAnimationFrameæ˜¯ä»€ä¹ˆ"><span class="nav-text">2.2 requestAnimationFrameæ˜¯ä»€ä¹ˆ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-3-ä¸‰ä¸ªåŸåˆ™"><span class="nav-text">2.3 ä¸‰ä¸ªåŸåˆ™</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-3-1-é¿å…è€—æ—¶çš„äº‹ä»¶handler"><span class="nav-text">2.3.1 é¿å…è€—æ—¶çš„äº‹ä»¶handler</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-3-2-é¿å…è¿‡åº¦çš„RAF"><span class="nav-text">2.3.2 é¿å…è¿‡åº¦çš„RAF</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-3-3-é¿å…åœ¨äº‹ä»¶handleré‡Œä¿®æ”¹æ ·å¼"><span class="nav-text">2.3.3 é¿å…åœ¨äº‹ä»¶handleré‡Œä¿®æ”¹æ ·å¼</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-4-Web-Workerå’Œå¾®ä»»åŠ¡"><span class="nav-text">2.4 Web Workerå’Œå¾®ä»»åŠ¡</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#å‚è€ƒ"><span class="nav-text">å‚è€ƒ</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">ä¸¥è‚ƒçš„äºŒå”</span>

  
</div>


  <div class="powered-by">ç”± <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">ä¸»é¢˜ &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a></div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.3"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.3"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.3"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.3"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.3"></script>



  


  




	

		<script type="text/javascript">
		_hcwp = window._hcwp || [];

		_hcwp.push({widget:"Bloggerstream", widget_id: 97370, selector:".hc-comment-count", label: "{\%COUNT%\}" });

		
		_hcwp.push({widget:"Stream", widget_id: 97370, xid: "2018/03/23/smooth-animation/"});
		

		(function() {
		if("HC_LOAD_INIT" in window)return;
		HC_LOAD_INIT = true;
		var lang = (navigator.language || navigator.systemLanguage || navigator.userLanguage || "en").substr(0, 2).toLowerCase();
		var hcc = document.createElement("script"); hcc.type = "text/javascript"; hcc.async = true;
		hcc.src = ("https:" == document.location.protocol ? "https" : "http")+"://w.hypercomments.com/widget/hc/97370/"+lang+"/widget.js";
		var s = document.getElementsByTagName("script")[0];
		s.parentNode.insertBefore(hcc, s.nextSibling);
		})();
		</script>

	
















  




  
  
  
  <link rel="stylesheet" href="/lib/algolia-instant-search/instantsearch.min.css">

  
  
  <script src="/lib/algolia-instant-search/instantsearch.min.js"></script>
  

  <script src="/js/src/algolia-search.js?v=5.1.3"></script>



  

  

  

  
  

  

  

  

</body>
</html>
