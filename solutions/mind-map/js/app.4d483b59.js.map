{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/MindNode.vue?1be3","webpack:///./src/App.vue?6340","webpack:///./src/components/MindMap.vue?1047","webpack:///./src/components/MindNode.vue?38c0","webpack:///./src/utils/hierarchy.js","webpack:///./src/utils/index.js","webpack:///./src/utils/constant.js","webpack:///src/components/MindNode.vue","webpack:///./src/components/MindNode.vue?cb0e","webpack:///./src/components/MindNode.vue","webpack:///./src/components/NotePanel.vue?183d","webpack:///src/components/NotePanel.vue","webpack:///./src/components/NotePanel.vue?72d2","webpack:///./src/components/NotePanel.vue","webpack:///./src/components/Menu.vue?5b75","webpack:///./src/model/Node.js","webpack:///./src/utils/md2json.js","webpack:///src/components/Menu.vue","webpack:///./src/components/Menu.vue?204e","webpack:///./src/components/Menu.vue","webpack:///src/components/MindMap.vue","webpack:///./src/components/MindMap.vue?c305","webpack:///./src/components/MindMap.vue","webpack:///src/App.vue","webpack:///./src/App.vue?a37b","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/App.vue?3310","webpack:///./src/components/MindMap.vue?332e","webpack:///./src/components/Menu.vue?df01","webpack:///./src/components/NotePanel.vue?027a"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","app","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_MindNode_vue_vue_type_style_index_0_id_0ff6d69a_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_MindNode_vue_vue_type_style_index_0_id_0ff6d69a_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","Appvue_type_template_id_3f34055a_render","_vm","this","_h","$createElement","_c","_self","attrs","id","fontWidth","fw","_e","staticClass","ref","_v","staticRenderFns","MindMapvue_type_template_id_0ef2a863_scoped_true_render","width","height","on","click","$event","stopPropagation","handleSvgClick","dblclick","handleScaleTree","mousedown","handleSvgMouseDown","staticStyle","stroke","x","y","rx","ry","stroke-width","stroke-dasharray","fill","stroke-linecap","stop-color","offset","class","no-transition","treeNoTransition","style","shiftX","shiftY","scale","node","tree","selectedNode","zoomBy","handleZoomBy","createTree","handleCreateTree","MindMapvue_type_template_id_0ef2a863_scoped_true_staticRenderFns","MindNodevue_type_template_id_0ff6d69a_scoped_true_render","tabindex","handleNodeActive","handleEditName","keydown","type","indexOf","_k","keyCode","handleRemoveNode","link","path","_s","hasChild","isCollapse","w","xlink:href","handleToggleChildren","mouseover","handleNodeMouseOver","mouseout","handleNodeMouseOut","addWidth","addShift","handleAddNode","_l","child","idx","pNode","MindNodevue_type_template_id_0ff6d69a_scoped_true_staticRenderFns","hierarchy","root","_ref","arguments","undefined","_ref$nodeHeight","nodeHeight","_ref$nodeGap","nodeGap","_ref$fontWidth","normal","capital","chinese","_ref$paddingLeft","paddingLeft","_ref$paddingRight","paddingRight","generateX","_getNameWidth","_hasChildren","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","get_iterator_default","children","next","done","err","return","leafCnt","generateY","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","len","test","disActiveNode","document","querySelectorAll","contentEl","classList","remove","EVENT","TREE_REFRESH","NODE_SELECTED","TREE_EMPTY","TREE_LOCATE","MindNodevue_type_script_lang_js_","props","computed","_this$node","concat","_this$node2","_this$pNode","px","y0","w0","x0","methods","getSelection","removeAllRanges","$set","event","$el","querySelector","add","_trigger","parent","$parent","$bus","$emit","created","components_MindNodevue_type_script_lang_js_","component","componentNormalizer","MindNode","NotePanelvue_type_template_id_438b489d_scoped_true_render","directives","rawName","expression","domProps","input","target","composing","handleNameChange","active","activeTabName","handlePreview","handleEdit","innerHTML","content","NotePanelvue_type_template_id_438b489d_scoped_true_staticRenderFns","NotePanelvue_type_script_lang_js_","marked_default","note","isPreview","components_NotePanelvue_type_script_lang_js_","NotePanel_component","NotePanel","Menuvue_type_template_id_50395d16_scoped_true_render","title","handleTheme","handleZoom","scaleInterval","handleAuto","for","change","handleReadFile","Menuvue_type_template_id_50395d16_scoped_true_staticRenderFns","RawDataNode","classCallCheck","md2json","text","indentSize","lines","split","isInNote","currentNode","preInDentLen","line","regRes","exec","_regRes","slicedToArray","indent","prefix","depth","_handleCreateNode","console","warn","_backwardForward","current","moves","reduce","move","depthDiff","anchorNode","Array","Math","abs","themeMap","Menuvue_type_script_lang_js_","isNight","mounted","rootStyle","getComputedStyle","documentElement","forEach","bg","getPropertyValue","val","theme","setProperty","_this","file","files","reader","FileReader","readAsText","onload","treeJson","md2json_md2json","onerror","log","error","components_Menuvue_type_script_lang_js_","Menu_component","Menu","scaleMin","MindMapvue_type_script_lang_js_","components","treeEl","svgEl","preMousePos","handleSelectNode","handleEmptyTree","_onMouseMove","clientX","clientY","_beforeTransform","addEventListener","onmouseup","_afterTransform","removeEventListener","_this2","$nextTick","_centerTree","treeRect","getBoundingClientRect","svgRect","min","by","_zoom","_this3","$on","_this4","vm","$refs","svg","ctrlKey","preventDefault","deltaY","passive","components_MindMapvue_type_script_lang_js_","MindMap_component","MindMap","Appvue_type_script_lang_js_","rect","font","capitalRect","fontCapital","chineseRect","fontChinese","right","left","src_Appvue_type_script_lang_js_","App_component","App","Vue","config","productionTip","render","h","$mount","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_MindMap_vue_vue_type_style_index_0_id_0ef2a863_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_MindMap_vue_vue_type_style_index_0_id_0ef2a863_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Menu_vue_vue_type_style_index_0_id_50395d16_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Menu_vue_vue_type_style_index_0_id_50395d16_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_NotePanel_vue_vue_type_style_index_0_id_438b489d_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_NotePanel_vue_vue_type_style_index_0_id_438b489d_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"aACA,SAAAA,EAAAC,GAQA,IAPA,IAMAC,EAAAC,EANAC,EAAAH,EAAA,GACAI,EAAAJ,EAAA,GACAK,EAAAL,EAAA,GAIAM,EAAA,EAAAC,EAAA,GACQD,EAAAH,EAAAK,OAAoBF,IAC5BJ,EAAAC,EAAAG,GACAG,EAAAP,IACAK,EAAAG,KAAAD,EAAAP,GAAA,IAEAO,EAAAP,GAAA,EAEA,IAAAD,KAAAG,EACAO,OAAAC,UAAAC,eAAAC,KAAAV,EAAAH,KACAc,EAAAd,GAAAG,EAAAH,IAGAe,KAAAhB,GAEA,MAAAO,EAAAC,OACAD,EAAAU,OAAAV,GAOA,OAHAW,EAAAR,KAAAS,MAAAD,EAAAb,GAAA,IAGAe,IAEA,SAAAA,IAEA,IADA,IAAAC,EACAf,EAAA,EAAiBA,EAAAY,EAAAV,OAA4BF,IAAA,CAG7C,IAFA,IAAAgB,EAAAJ,EAAAZ,GACAiB,GAAA,EACAC,EAAA,EAAkBA,EAAAF,EAAAd,OAA2BgB,IAAA,CAC7C,IAAAC,EAAAH,EAAAE,GACA,IAAAf,EAAAgB,KAAAF,GAAA,GAEAA,IACAL,EAAAQ,OAAApB,IAAA,GACAe,EAAAM,IAAAC,EAAAN,EAAA,KAGA,OAAAD,EAIA,IAAAQ,EAAA,GAKApB,EAAA,CACAqB,IAAA,GAGAZ,EAAA,GAGA,SAAAS,EAAA1B,GAGA,GAAA4B,EAAA5B,GACA,OAAA4B,EAAA5B,GAAA8B,QAGA,IAAAC,EAAAH,EAAA5B,GAAA,CACAK,EAAAL,EACAgC,GAAA,EACAF,QAAA,IAUA,OANAhB,EAAAd,GAAAa,KAAAkB,EAAAD,QAAAC,IAAAD,QAAAJ,GAGAK,EAAAC,GAAA,EAGAD,EAAAD,QAKAJ,EAAAO,EAAAnB,EAGAY,EAAAQ,EAAAN,EAGAF,EAAAS,EAAA,SAAAL,EAAAM,EAAAC,GACAX,EAAAY,EAAAR,EAAAM,IACA1B,OAAA6B,eAAAT,EAAAM,EAAA,CAA0CI,YAAA,EAAAC,IAAAJ,KAK1CX,EAAAgB,EAAA,SAAAZ,GACA,qBAAAa,eAAAC,aACAlC,OAAA6B,eAAAT,EAAAa,OAAAC,YAAA,CAAwDC,MAAA,WAExDnC,OAAA6B,eAAAT,EAAA,cAAiDe,OAAA,KAQjDnB,EAAAoB,EAAA,SAAAD,EAAAE,GAEA,GADA,EAAAA,IAAAF,EAAAnB,EAAAmB,IACA,EAAAE,EAAA,OAAAF,EACA,KAAAE,GAAA,kBAAAF,QAAAG,WAAA,OAAAH,EACA,IAAAI,EAAAvC,OAAAwC,OAAA,MAGA,GAFAxB,EAAAgB,EAAAO,GACAvC,OAAA6B,eAAAU,EAAA,WAAyCT,YAAA,EAAAK,UACzC,EAAAE,GAAA,iBAAAF,EAAA,QAAAM,KAAAN,EAAAnB,EAAAS,EAAAc,EAAAE,EAAA,SAAAA,GAAgH,OAAAN,EAAAM,IAAqBC,KAAA,KAAAD,IACrI,OAAAF,GAIAvB,EAAA2B,EAAA,SAAAtB,GACA,IAAAM,EAAAN,KAAAiB,WACA,WAA2B,OAAAjB,EAAA,YAC3B,WAAiC,OAAAA,GAEjC,OADAL,EAAAS,EAAAE,EAAA,IAAAA,GACAA,GAIAX,EAAAY,EAAA,SAAAgB,EAAAC,GAAsD,OAAA7C,OAAAC,UAAAC,eAAAC,KAAAyC,EAAAC,IAGtD7B,EAAA8B,EAAA,IAEA,IAAAC,EAAAC,OAAA,gBAAAA,OAAA,oBACAC,EAAAF,EAAAhD,KAAA2C,KAAAK,GACAA,EAAAhD,KAAAX,EACA2D,IAAAG,QACA,QAAAvD,EAAA,EAAgBA,EAAAoD,EAAAlD,OAAuBF,IAAAP,EAAA2D,EAAApD,IACvC,IAAAU,EAAA4C,EAIA1C,EAAAR,KAAA,qBAEAU,kFCtJA,IAAA0C,EAAAnC,EAAA,QAAAoC,EAAApC,EAAA2B,EAAAQ,GAAoiBC,EAAG,sGCAniBC,EAAM,WAAgB,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,MAAA,CAAOC,GAAA,QAAY,CAAAP,EAAA,GAAAI,EAAA,WAAyBE,MAAA,CAAOE,UAAAR,EAAAS,MAAoBT,EAAAU,KAAAN,EAAA,OAAqBO,YAAA,gBAA2B,CAAAP,EAAA,QAAaQ,IAAA,eAAkB,CAAAZ,EAAAa,GAAA,OAAAT,EAAA,QAA2BQ,IAAA,QAAW,CAAAZ,EAAAa,GAAA,OAAAT,EAAA,QAA2BQ,IAAA,eAAkB,CAAAZ,EAAAa,GAAA,cACnVC,EAAA,GCDIC,EAAM,WAAgB,IAAAf,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,OAA2BQ,IAAA,MAAAN,MAAA,CAAiBU,MAAA,OAAAC,OAAA,QAA+BC,GAAA,CAAKC,MAAA,SAAAC,GAAkD,OAAzBA,EAAAC,kBAAyBrB,EAAAsB,eAAAF,IAAkCG,SAAAvB,EAAAwB,gBAAAC,UAAAzB,EAAA0B,qBAAoE,CAAAtB,EAAA,QAAAA,EAAA,KAAqBE,MAAA,CAAOC,GAAA,aAAiB,CAAAH,EAAA,QAAauB,YAAA,CAAaC,OAAA,oBAA4BtB,MAAA,CAAQuB,EAAA,IAAAC,EAAA,IAAAC,GAAA,IAAAC,GAAA,IAAAhB,MAAA,KAAAC,OAAA,IAAAgB,eAAA,OAAgF7B,EAAA,QAAaE,MAAA,CAAO4B,mBAAA,MAAA/D,EAAA,WAAA8D,eAAA,IAAAE,KAAA,OAAAC,iBAAA,aAAmGhC,EAAA,KAAYE,MAAA,CAAOC,GAAA,QAAY,CAAAH,EAAA,QAAaE,MAAA,CAAOuB,EAAA,IAAAC,EAAA,IAAAC,GAAA,IAAAC,GAAA,IAAAhB,MAAA,KAAAC,OAAA,QAA8Db,EAAA,QAAaE,MAAA,CAAOnC,EAAA,wBAAA8D,eAAA,SAAgD7B,EAAA,kBAAyBE,MAAA,CAAOC,GAAA,qBAAyB,CAAAH,EAAA,QAAauB,YAAA,CAAaU,aAAA,uBAAmC/B,MAAA,CAAQgC,OAAA,SAAgBlC,EAAA,QAAaE,MAAA,CAAOgC,OAAA,MAAAD,aAAA,oBAA6C,GAAAjC,EAAA,QAAiBuB,YAAA,CAAaQ,KAAA,kBAAAP,OAAA,oBAAqDtB,MAAA,CAAQC,GAAA,OAAAsB,EAAA,IAAAC,EAAA,IAAAd,MAAA,IAAAe,GAAA,IAAAC,GAAA,IAAAf,OAAA,IAAAgB,eAAA,QAA2F,GAAAjC,EAAA,KAAAI,EAAA,YAAgCQ,IAAA,OAAAD,YAAA,cAAA4B,MAAA,CAA4CC,gBAAAxC,EAAAyC,kBAAqCC,MAAA,uBAAA1C,EAAA2C,OAAA,OAAA3C,EAAA4C,OAAA,aAAA5C,EAAA6C,MAAA,IAAAvC,MAAA,CAA6GuB,EAAA,IAAAC,EAAA,IAAAgB,KAAA9C,EAAA+C,QAAiC/C,EAAAU,MAAA,GAAAV,EAAA,aAAAI,EAAA,aAAkDE,MAAA,CAAOwC,KAAA9C,EAAAgD,gBAAyBhD,EAAAU,KAAAN,EAAA,QAAsBc,GAAA,CAAI+B,OAAAjD,EAAAkD,aAAAC,WAAAnD,EAAAoD,qBAA6D,IACjlDC,EAAe,GCDfC,EAAM,WAAgB,IAAAtD,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,KAAeO,YAAA,OAAAL,MAAA,CAA0BiD,SAAA,KAAerC,GAAA,CAAKC,MAAA,SAAAC,GAAkD,OAAzBA,EAAAC,kBAAyBrB,EAAAwD,iBAAApC,IAAoCG,SAAA,SAAAH,GAAsD,OAAzBA,EAAAC,kBAAyBrB,EAAAyD,eAAArC,IAAkCsC,QAAA,SAAAtC,GAA4B,OAAAA,EAAAuC,KAAAC,QAAA,QAAA5D,EAAA6D,GAAAzC,EAAA0C,QAAA,gBAAA1C,EAAAjC,IAAA,8BAAgH,MAAeiC,EAAAC,kBAAyBrB,EAAA+D,iBAAA3C,OAAsC,CAAApB,EAAA,MAAAI,EAAA,QAAyBE,MAAA,CAAOnC,EAAA6B,EAAAgE,QAAchE,EAAAU,KAAAN,EAAA,QAAsBE,MAAA,CAAOnC,EAAA6B,EAAAiE,QAAc7D,EAAA,QAAaO,YAAA,OAAAL,MAAA,CAA0BuB,EAAA7B,EAAA8C,KAAAjB,EAAAC,EAAA9B,EAAA8C,KAAAhB,EAAA,IAAiC,CAAA9B,EAAAa,GAAAb,EAAAkE,GAAAlE,EAAA8C,KAAA1E,SAAA4B,EAAAmE,YAAAnE,EAAA8C,KAAAsB,WAAAhE,EAAA,OAAoFO,YAAA,WAAAL,MAAA,CAA8BuB,EAAA7B,EAAA8C,KAAAjB,EAAA7B,EAAA8C,KAAAuB,EAAAvC,EAAA9B,EAAA8C,KAAAhB,EAAAwC,aAAA,aAAkEpD,GAAA,CAAKC,MAAA,SAAAC,GAAkD,OAAzBA,EAAAC,kBAAyBrB,EAAAuE,qBAAAnD,OAA0CpB,EAAAU,KAAAV,EAAA8C,KAAA,KAAA1C,EAAA,OAAqCE,MAAA,CAAOuB,EAAA7B,EAAA8C,KAAAjB,EAAA7B,EAAA8C,KAAAuB,EAAA,GAAAvC,EAAA9B,EAAA8C,KAAAhB,EAAA,GAAAwC,aAAA,WAAqEtE,EAAAU,KAAAN,EAAA,KAAmBO,YAAA,UAAAO,GAAA,CAA0BsD,UAAAxE,EAAAyE,oBAAAC,SAAA1E,EAAA2E,qBAAuE,CAAAvE,EAAA,QAAaO,YAAA,wBAAAL,MAAA,CAA2CuB,EAAA7B,EAAA8C,KAAAjB,EAAAC,EAAA9B,EAAA8C,KAAAhB,EAAA,GAAAd,MAAAhB,EAAA8C,KAAAuB,EAAArE,EAAA4E,SAAA5E,EAAA6E,SAAA5D,OAAA,QAAiGb,EAAA,OAAYO,YAAA,MAAAL,MAAA,CAAyBuB,EAAA7B,EAAA8C,KAAAjB,EAAA7B,EAAA8C,KAAAuB,EAAArE,EAAA6E,SAAA/C,EAAA9B,EAAA8C,KAAAhB,EAAA9B,EAAA4E,SAAAN,aAAA,QAA2FpD,GAAA,CAAKC,MAAA,SAAAC,GAAkD,OAAzBA,EAAAC,kBAAyBrB,EAAA8E,cAAA1D,SAAmChB,EAAA,cAAqBE,MAAA,CAAOlC,KAAA,UAAgB,CAAA4B,EAAAmE,aAAAnE,EAAA8C,KAAAsB,WAAAhE,EAAA,IAAAJ,EAAA+E,GAAA/E,EAAA8C,KAAA,kBAAAkC,EAAAC,GAAiG,OAAA7E,EAAA,YAAsBjB,IAAAa,EAAA8C,KAAA,MAAAkC,EAAA,MAAAC,EAAA3E,MAAA,CAAwD4E,MAAAlF,EAAA8C,UAAAkC,OAAiC,GAAAhF,EAAAU,QAAA,IACpyDyE,EAAe,kCCDZ,SAASC,EACdC,GAQA,IAAAC,EAAAC,UAAAhJ,OAAA,QAAAiJ,IAAAD,UAAA,GAAAA,UAAA,GADI,GACJE,EAAAH,EANEI,kBAMF,IAAAD,EANe,GAMfA,EAAAE,EAAAL,EALEM,eAKF,IAAAD,EALY,IAKZA,EAAAE,EAAAP,EAJE9E,iBAIF,IAAAqF,EAJc,CAAEC,OAAQ,EAAGC,QAAS,GAAIC,QAAS,IAIjDH,EAAAI,EAAAX,EAHEY,mBAGF,IAAAD,EAHgB,GAGhBA,EAAAE,EAAAb,EAFEc,oBAEF,IAAAD,EAFiB,GAEjBA,EAGA,SAASE,EAAWvD,GAElB,GADAA,EAAKuB,EAAI+B,EAAeE,EAAcxD,EAAK1E,KAAMoC,GAAa0F,EAC1DK,EAAazD,GAAO,KAAA0D,GAAA,EAAAC,GAAA,EAAAC,OAAAlB,EAAA,IACtB,QAAAmB,EAAAC,EAAAC,IAAkB/D,EAAKgE,YAAvBN,GAAAG,EAAAC,EAAAG,QAAAC,MAAAR,GAAA,EAAiC,KAAxBxB,EAAwB2B,EAAA9H,MAI/BmG,EAAMnD,EAAIiB,EAAKjB,EAAIiB,EAAKuB,EAAIuB,EAC5BS,EAAUrB,IANU,MAAAiC,GAAAR,GAAA,EAAAC,EAAAO,EAAA,YAAAT,GAAA,MAAAI,EAAAM,QAAAN,EAAAM,SAAA,WAAAT,EAAA,MAAAC,SAStB5D,EAAKgE,SAAW,GAbpBzB,EAAKxD,EAAI,EAiBT,IAAIsF,EAAU,EACd,SAASC,EAAWtE,GAClB,GAAIyD,EAAazD,GAAO,KAAAuE,GAAA,EAAAC,GAAA,EAAAC,OAAA/B,EAAA,IACtB,QAAAgC,EAAAC,EAAAZ,IAAkB/D,EAAKgE,YAAvBO,GAAAG,EAAAC,EAAAV,QAAAC,MAAAK,GAAA,EAAiC,KAAxBrC,EAAwBwC,EAAA3I,MAC/BuI,EAAUpC,IAFU,MAAAiC,GAAAK,GAAA,EAAAC,EAAAN,EAAA,YAAAI,GAAA,MAAAI,EAAAP,QAAAO,EAAAP,SAAA,WAAAI,EAAA,MAAAC,GAItB,IAAMG,EAAM5E,EAAKgE,SAASvK,OAC1BuG,EAAKhB,GAAKgB,EAAKgE,SAAS,GAAGhF,EAAIgB,EAAKgE,SAASY,EAAM,GAAG5F,GAAK,OAE3DgB,EAAKhB,EAAIqF,EAAUzB,EACnByB,IAMJ,OAFAd,EAAUhB,GACV+B,EAAU/B,GACHA,EAGT,SAASkB,EAAczD,GACrB,OAAOA,GAAQA,EAAKgE,UAAYhE,EAAKgE,SAASvK,OAGhD,SAAS+J,EAAelI,EAAMoC,GAE5B,IADA,IAAIQ,EAAQ,EACH3E,EAAI,EAAGA,EAAI+B,EAAK7B,OAAQF,IAC3B,+CAA8CsL,KAAKvJ,EAAK/B,IAC1D2E,GAASR,EAAUsF,OACV,QAAQ6B,KAAKvJ,EAAK/B,IAC3B2E,GAASR,EAAUuF,QAEnB/E,GAASR,EAAUwF,QAGvB,OAAOhF,GAAS,IC7DX,SAAS4G,IAAiB,IAAApB,GAAA,EAAAC,GAAA,EAAAC,OAAAlB,EAAA,IAC/B,QAAAmB,EAAAC,EAAAC,IAAsBgB,SAASC,iBAAiB,mBAAhDtB,GAAAG,EAAAC,EAAAG,QAAAC,MAAAR,GAAA,EAAiE,KAAxDuB,EAAwDpB,EAAA9H,MAC/DkJ,EAAUC,UAAUC,OAAO,WAFE,MAAAhB,GAAAR,GAAA,EAAAC,EAAAO,EAAA,YAAAT,GAAA,MAAAI,EAAAM,QAAAN,EAAAM,SAAA,WAAAT,EAAA,MAAAC,ICA1B,IAAMwB,EAAQ,CACnBC,aAAc,eACdC,cAAe,gBACfC,WAAY,aACZC,YAAa,eC+CfC,EAAA,CACAnK,KAAA,WACAoK,MAAA,CACA1F,KAAA,CACAa,KAAAjH,QAEAwI,MAAA,CACAvB,KAAAjH,SAGA+L,SAAA,CACAxE,KADA,WACA,IAAAyE,EACAzI,KAAA6C,KAAAjB,EADA6G,EACA7G,EAAAC,EADA4G,EACA5G,EAAAuC,EADAqE,EACArE,EACA,UAAAsE,OAAA9G,EAAA,KAAA8G,OAAA7G,EAAA,OAAA6G,OAAAtE,EAAA,SAEAL,KALA,WAKA,IAAA4E,EACA3I,KAAA6C,KAAAjB,EADA+G,EACA/G,EAAAC,EADA8G,EACA9G,EADA+G,EAEA5I,KAAAiF,MAAA4D,EAFAD,EAEAhH,EAAAkH,EAFAF,EAEA/G,EAAAkH,EAFAH,EAEAxE,EACA4E,EAAAH,EAAAE,EACA,UAAAL,OAAAM,EAAA,KAAAN,OAAAI,EAAA,qBAAAJ,QACAM,EAAApH,GAAA,EADA,KAAA8G,OACAI,EADA,MAAAJ,QACAM,EAAApH,GAAA,EADA,KAAA8G,OACA7G,EADA,qBAAA6G,OAEA9G,EAFA,KAAA8G,OAEA7G,KAGA/F,KAxBA,WAyBA,OACA8I,SAAA,EACAD,SAAA,KAGAsE,QAAA,CACA/E,SADA,WAEA,OAAAlE,KAAA6C,MAAA7C,KAAA6C,KAAAgE,SAAAvK,QAEAgI,qBAJA,WAKA7E,OAAAyJ,eAAAC,kBACAnJ,KAAAoJ,KAAApJ,KAAA6C,KAAA,cAAA7C,KAAA6C,KAAAsB,aAEAX,eARA,SAQA6F,GACArJ,KAAAoJ,KAAApJ,KAAA6C,KAAA,cAAA7C,KAAA6C,KAAAsB,aAcAZ,iBAvBA,WAwBAoE,IACA3H,KAAAsJ,IAAAC,cAAA,YAAAxB,UAAAyB,IAAA,UACAxJ,KAAAyJ,SAAAxB,EAAAE,cAAAnI,KAAA6C,OAEA2B,oBA5BA,WA6BAxE,KAAAsJ,IAAAC,cAAA,QAAAxB,UAAAyB,IAAA,SAEA9E,mBA/BA,WAgCA1E,KAAAsJ,IAAAC,cAAA,QAAAxB,UAAAC,OAAA,SAEAnD,cAlCA,WAmCA7E,KAAA6C,KAAAgE,WACA7G,KAAA6C,KAAAgE,SAAA,IAEA7G,KAAA6C,KAAAgE,SAAArK,KAAA,CACA2B,KAAA,GACA0I,SAAA,KAEA7G,KAAAyJ,SAAAxB,EAAAC,eAEApE,iBA5CA,WA6CA,IAAA4F,EAAA1J,KAAA2J,QAAA9G,KACA,GAAA6G,EAEA,CACA,QAAAtN,EAAA,EAAAA,EAAAsN,EAAA7C,SAAAvK,OAAAF,IACA,GAAAsN,EAAA7C,SAAAzK,KAAA4D,KAAA6C,KAAA,CACA6G,EAAA7C,SAAArJ,OAAApB,EAAA,GACA,MAGA4D,KAAA4J,KAAAC,MAAA5B,EAAAC,mBARAlI,KAAAyJ,SAAAxB,EAAAG,aAWAqB,SA1DA,SA0DAJ,EAAAvN,GACAkE,KAAA4J,KAAAC,MAAAR,EAAAvN,KAGAgO,QA5FA,cCnDkVC,EAAA,0BCQlVC,EAAgBvN,OAAAwN,EAAA,KAAAxN,CACdsN,EACA1G,EACA6B,GACF,EACA,KACA,WACA,MAIegF,EAAAF,UCnBXG,EAAM,WAAgB,IAAApK,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBO,YAAA,sBAAiC,CAAAP,EAAA,YAAiBiK,WAAA,EAAajM,KAAA,QAAAkM,QAAA,UAAAzL,MAAAmB,EAAA8C,KAAA,KAAAyH,WAAA,cAA4E5J,YAAA,OAAAL,MAAA,CAA4BqD,KAAA,YAAkB6G,SAAA,CAAW3L,MAAAmB,EAAA8C,KAAA,MAAwB5B,GAAA,CAAKuJ,MAAA,UAAArJ,GAA0BA,EAAAsJ,OAAAC,WAAsC3K,EAAAqJ,KAAArJ,EAAA8C,KAAA,OAAA1B,EAAAsJ,OAAA7L,QAAgDmB,EAAA4K,qBAAwBxK,EAAA,OAAYO,YAAA,aAAuBP,EAAA,OAAYO,YAAA,QAAmB,CAAAP,EAAA,OAAYO,YAAA,MAAA4B,MAAA,CAAyBsI,OAAA,YAAA7K,EAAA8K,eAAqC5J,GAAA,CAAKC,MAAAnB,EAAA+K,gBAA2B,CAAA/K,EAAAa,GAAA,aAAAT,EAAA,OAAgCO,YAAA,MAAA4B,MAAA,CAAyBsI,OAAA,SAAA7K,EAAA8K,eAAkC5J,GAAA,CAAKC,MAAAnB,EAAAgL,aAAwB,CAAAhL,EAAAa,GAAA,YAAAT,EAAA,OAA+BO,YAAA,kBAA6B,CAAAX,EAAA,UAAAI,EAAA,OAA4BoK,SAAA,CAAUS,UAAAjL,EAAAkE,GAAAlE,EAAAkL,YAAiC9K,EAAA,OAAYO,YAAA,UAAqB,CAAAP,EAAA,OAAYO,YAAA,SAAmBP,EAAA,YAAiBiK,WAAA,EAAajM,KAAA,QAAAkM,QAAA,UAAAzL,MAAAmB,EAAA8C,KAAA,KAAAyH,WAAA,cAA4E5J,YAAA,UAAA6J,SAAA,CAAkC3L,MAAAmB,EAAA8C,KAAA,MAAwB5B,GAAA,CAAKuJ,MAAA,SAAArJ,GAAyBA,EAAAsJ,OAAAC,WAAsC3K,EAAAqJ,KAAArJ,EAAA8C,KAAA,OAAA1B,EAAAsJ,OAAA7L,kBAC9pCsM,EAAe,wBCiCnBC,EAAA,CACA5C,MAAA,CACA1F,KAAA,CACAa,KAAAjH,SAGA+L,SAAA,CACAyC,QADA,WAEA,OAAAG,IAAApL,KAAA6C,KAAAwI,MAAA,KAEAC,UAJA,WAKA,kBAAAtL,KAAA6K,gBAGA/O,KAdA,WAeA,OACAqC,KAAA,GACA0M,cAAA,YAGA5B,QAAA,CACA8B,WADA,WAEA/K,KAAA6K,cAAA,QAEAC,cAJA,WAKA9K,KAAA6K,cAAA,WAEAF,iBAPA,WAQA3K,KAAA4J,KAAAC,MAAA5B,EAAAC,iBC9DmVqD,EAAA,ECQ/UC,aAAY/O,OAAAwN,EAAA,KAAAxN,CACd8O,EACApB,EACAe,GACF,EACA,KACA,WACA,OAIeO,EAAAD,UCnBXE,EAAM,WAAgB,IAAA3L,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBO,YAAA,aAAwB,CAAAP,EAAA,UAAeO,YAAA,aAAAL,MAAA,CAAgCsL,MAAA,mBAA0B1K,GAAA,CAAKC,MAAAnB,EAAA6L,eAAyBzL,EAAA,UAAeO,YAAA,eAAAL,MAAA,CAAkCsL,MAAA,WAAkB1K,GAAA,CAAKC,MAAA,SAAAC,GAAyB,OAAApB,EAAA8L,WAAA9L,EAAA+L,mBAA2C3L,EAAA,UAAeO,YAAA,gBAAAL,MAAA,CAAmCsL,MAAA,YAAmB1K,GAAA,CAAKC,MAAA,SAAAC,GAAyB,OAAApB,EAAA8L,YAAA9L,EAAA+L,mBAA4C3L,EAAA,UAAeO,YAAA,YAAAL,MAAA,CAA+BsL,MAAA,YAAmB1K,GAAA,CAAKC,MAAAnB,EAAAgM,cAAwB5L,EAAA,SAAcO,YAAA,cAAAL,MAAA,CAAiCiD,SAAA,KAAAqI,MAAA,4BAAAK,IAAA,yBAAiF7L,EAAA,SAAcO,YAAA,OAAAL,MAAA,CAA0BC,GAAA,sBAAAoD,KAAA,QAAyCzC,GAAA,CAAKgL,OAAAlM,EAAAmM,qBACpzBC,EAAe,6DCeNC,aACX,SAAAA,IAAmC,IAAtBjO,EAAsBmH,UAAAhJ,OAAA,QAAAiJ,IAAAD,UAAA,GAAAA,UAAA,GAAf,GAAI+F,EAAW/F,UAAAhJ,OAAA,QAAAiJ,IAAAD,UAAA,GAAAA,UAAA,GAAJ,GAAI7I,OAAA4P,EAAA,KAAA5P,CAAAuD,KAAAoM,GACjCpM,KAAK7B,KAAOA,EACZ6B,KAAKqL,KAAOA,ICTT,SAASiB,EAASC,GAOvB,IAP6C,IAAhBC,EAAgBlH,UAAAhJ,OAAA,QAAAiJ,IAAAD,UAAA,GAAAA,UAAA,GAAH,EACpCmH,EAAQF,EAAKG,MAAM,SACnB5Q,EAAO,IAAIsQ,EACbO,GAAW,EACXC,EAAc9Q,EACd+Q,EAAe,EAEVzQ,EAAI,EAAGA,EAAIqQ,EAAMnQ,OAAQF,IAAK,CACrC,IAAM0Q,EAAOL,EAAMrQ,GAEnB,GAAI,OAAOsL,KAAKoF,GAEdH,GAAW,OAIb,GAAIA,EAEFC,EAAYvB,MAAQyB,EAAKnN,MAAMkN,EAAeL,EAAa,GAAK,SAFlE,CAMA,IAAMO,EAAS,4BAA4BC,KAAKF,GAChD,GAAKC,EAAL,CAMAJ,GAAW,EAtB0B,IAAAM,EAAAxQ,OAAAyQ,EAAA,KAAAzQ,CAwBJsQ,EAxBI,GAwB5BI,EAxB4BF,EAAA,GAwBpBG,EAxBoBH,EAAA,GAwBZ9O,EAxBY8O,EAAA,GA4BrC,OAAQG,GACN,IAAK,IACHR,EAAYzO,KAAOA,EACnByO,EAAYS,MAAQ,EACpBR,EAAe,EACf,MACF,IAAK,KACHD,EAAcU,EAAkBnP,EAAM,EAAGyO,GACzCC,EAAe,EACf,MACF,IAAK,MACHD,EAAcU,EAAkBnP,EAAM,EAAGyO,GACzCC,EAAe,EACf,MACF,IAAK,IACHA,EAAgBM,EAAO7Q,OAASkQ,EAAc,EAC9CI,EAAcU,EAAkBnP,EAAM0O,EAAe,EAAGD,SA1B1DW,QAAQC,KAAK,+BAAgCV,IA6BjD,OAAOhR,EAGT,SAAS2R,EAAkBC,EAASC,GAClC,OAAOA,EAAMC,OAAO,SAAC/K,EAAMgL,GACzB,OAAOhL,EAAKgL,IACXH,GAGL,SAASJ,EAAmBnP,EAAMkP,EAAOT,GACvC,IAAM/J,EAAO,IAAIuJ,EAAYjO,GAC7B0E,EAAKwK,MAAQA,EACb,IAAMS,EAAYT,EAAQT,EAAYS,MAClCU,EAAanB,EACjB,GAAkB,IAAdkB,EAAiB,CAGnB,IAAMH,EAAQ,IAAIK,MAAMC,KAAKC,IAAIJ,GAAa,GAAG5L,KAAK,UACtD6L,EAAaN,EAAiBb,EAAae,GAQ7C,OALA9K,EAAK6G,OAASqE,EACTA,EAAWlH,WACdkH,EAAWlH,SAAW,IAExBkH,EAAWlH,SAASrK,KAAKqG,GAClBA,EC/DT,IAAAsL,EAAA,GAIAC,EAAA,CACAtS,KADA,WAEA,OACAgQ,cAAA,GACAuC,SAAA,IAGAC,QAPA,WAQA,IAAAC,EAAAC,iBAAA5G,SAAA6G,iBACA,kBAAAC,QAAA,SAAAxP,GACAiP,EAAAjP,GAAA,CACAyP,GAAAJ,EAAAK,iBAAA,KAAAlG,OAAAxJ,EAAA,OACAqN,KAAAgC,EAAAK,iBAAA,KAAAlG,OAAAxJ,EAAA,SACAmM,KAAAkD,EAAAK,iBAAA,KAAAlG,OAAAxJ,EAAA,aAKA+J,QAAA,CACA4C,WADA,SACAgD,GACA7O,KAAA6J,MAAA,SAAAgF,IAEA9C,WAJA,WAKA/L,KAAA4J,KAAAC,MAAA5B,EAAAI,cAEAuD,YAPA,WAQA5L,KAAAqO,SAAArO,KAAAqO,QACA,IAAAS,EAAAX,EAAAnO,KAAAqO,QAAA,iBACAzG,SAAA6G,gBAAAhM,MAAAsM,YAAA,YAAAD,EAAAH,IACA/G,SAAA6G,gBAAAhM,MAAAsM,YAAA,cAAAD,EAAAvC,MACA3E,SAAA6G,gBAAAhM,MAAAsM,YAAA,WAAAD,EAAAzD,OAEAa,eAdA,SAcA7C,GAAA,IAAA2F,EAAAhP,KACAiP,EAAA5F,EAAAoB,OAAAyE,MAAA,GACAC,EAAA,IAAAC,WAEAD,EAAAE,WAAAJ,GACAE,EAAAG,OAAA,WACA,IAAAC,EAAAC,EAAAL,EAAAhS,QACA6R,EAAAnF,MAAA,aAAA0F,IAGAJ,EAAAM,QAAA,WACAlC,QAAAmC,IAAAP,EAAAQ,WC1E8UC,EAAA,ECQ1UC,aAAYpT,OAAAwN,EAAA,KAAAxN,CACdmT,EACAlE,EACAS,GACF,EACA,KACA,WACA,OAIe2D,EAAAD,UCwDfE,EAAA,GAEAC,EAAA,CACAC,WAAA,CACA/F,WACAuB,YACAqE,QAEAvH,MAAA,CACAhI,UAAA,CACAmD,KAAAjH,SAGAX,KAXA,WAYA,OACAgH,KAAA,GACAC,aAAA,KACAH,MAAA,EACAF,OAAA,EACAC,OAAA,EACAuN,OAAA,KACAC,MAAA,KACAC,YAAA,CAAAxO,EAAA,EAAAC,EAAA,GACAW,kBAAA,IAGAyG,QAAA,CACAoH,iBADA,SACAxN,GACA7C,KAAA+C,aAAAF,GAEAxB,eAJA,WAKAsG,IACA3H,KAAA+C,aAAA,MAEAuN,gBARA,WASAtQ,KAAA8C,KAAA,KACA9C,KAAA+C,aAAA,MAEAxB,gBAZA,WAaAvB,KAAA4C,OAAA,KAEA2N,aAfA,SAeAlH,GACArJ,KAAA0C,QAAA2G,EAAAmH,QAAAxQ,KAAAoQ,YAAAxO,EACA5B,KAAA2C,QAAA0G,EAAAoH,QAAAzQ,KAAAoQ,YAAAvO,EACA7B,KAAAoQ,YAAA,CAAAxO,EAAAyH,EAAAmH,QAAA3O,EAAAwH,EAAAoH,UAEAhP,mBApBA,SAoBA4H,GAAA,IAAA2F,EAAAhP,KACAA,KAAA0Q,mBACA1Q,KAAAoQ,YAAA,CAAAxO,EAAAyH,EAAAmH,QAAA3O,EAAAwH,EAAAoH,SACA7I,SAAA+I,iBAAA,YAAA3Q,KAAAuQ,cACAvQ,KAAAmQ,MAAAS,UAAA,WACA5B,EAAA6B,kBACAjJ,SAAAkJ,oBAAA,YAAA9B,EAAAuB,cACAvB,EAAAmB,MAAAS,UAAA,OAGA1E,eA9BA,SA8BA7C,GAAA,IAAA0H,EAAA/Q,KACAiP,EAAA5F,EAAAoB,OAAAyE,MAAA,GACAC,EAAA,IAAAC,WAEAD,EAAAE,WAAAJ,GACAE,EAAAG,OAAA,WACAyB,EAAAjO,KAAAqC,EAAAmH,QAAA6C,EAAAhS,QAAA,CAAAoD,UAAAwQ,EAAAxQ,YACAwQ,EAAAC,UAAAD,EAAAE,cAGA9B,EAAAM,QAAA,WACAlC,QAAAmC,IAAAP,EAAAQ,SAGAsB,YA5CA,WA6CA,IAAAC,EAAAlR,KAAAkQ,OAAAiB,wBACAC,EAAApR,KAAAmQ,MAAAgB,wBAEA,GAAAD,EAAAnQ,MAAAqQ,EAAArQ,OAAAmQ,EAAAlQ,OAAAoQ,EAAApQ,OACAiN,KAAAoD,IAAAD,EAAArQ,MAAAmQ,EAAAnQ,MAAAqQ,EAAApQ,OAAAkQ,EAAAlQ,QAIAhB,KAAA0C,QAAA0O,EAAArQ,MAAAmQ,EAAAnQ,OAAA,EACAf,KAAA2C,QAAAyO,EAAApQ,OAAAkQ,EAAAlQ,QAAA,GAEA0P,iBAxDA,WAyDA1Q,KAAAwC,kBAAA,GAEAqO,gBA3DA,WA4DA7Q,KAAAwC,kBAAA,GAEAS,aA9DA,SA8DAqO,GACAtR,KAAAuR,MAAAvR,KAAA4C,MAAA0O,IAEAC,MAjEA,SAiEA3O,GAEA5C,KAAA4C,MADAA,EAAAmN,EACAnN,EAEAmN,GAGA5M,iBAxEA,SAwEAoM,GACAvP,KAAA8C,KAAAqC,EAAAoK,EAAA,CAAAhP,UAAAP,KAAAO,YACAP,KAAAgR,UAAAhR,KAAAiR,eAGAnH,QArGA,WAqGA,IAAA0H,EAAAxR,KACAA,KAAA4J,KAAA6H,IAAAxJ,EAAAE,cAAAnI,KAAAqQ,kBACArQ,KAAA4J,KAAA6H,IAAAxJ,EAAAG,WAAApI,KAAAsQ,iBACAtQ,KAAA4J,KAAA6H,IAAAxJ,EAAAC,aAAA,WACAsJ,EAAA1O,KAAAqC,EAAAqM,EAAA1O,KAAA,CAAAvC,UAAAiR,EAAAjR,cAGAP,KAAA4J,KAAA6H,IAAAxJ,EAAAI,YAAArI,KAAAiR,aACA1D,QAAAmC,IAAA,CAAAnP,UAAAP,KAAAO,YACAP,KAAA8C,KAAAqC,EAAA,CACAhH,KAAA,YACAkN,KAAA,qCACAxE,SAAA,CACA,CAAA1I,KAAA,kBACA,CACAA,KAAA,iBACA0I,SAAA,CACA,CACA1I,KAAA,iBACAkN,KAAA,0BAEA,CACAlN,KAAA,oBAIA,CAAAA,KAAA,oBAEA,CAAAoC,UAAAP,KAAAO,aAEA+N,QAnIA,WAmIA,IAAAoD,EAAA1R,KACA2R,EAAA3R,KACAA,KAAAkQ,OAAAlQ,KAAA4R,MAAA9O,KAAAwG,IACAtJ,KAAAmQ,MAAAnQ,KAAA4R,MAAAC,IACA7R,KAAAiR,cAEAxR,OAAAkR,iBAAA,oBACAgB,EAAAV,gBAGAxR,OAAAkR,iBAAA,iBAAAtH,GAGAA,EAAAyI,UACAzI,EAAA0I,iBACAL,EAAAhB,mBACAgB,EAAAH,MAAA,MAAAlI,EAAA2I,QACAN,EAAAV,UAAA,WACAU,EAAAb,sBAOA,CAAAoB,SAAA,MCzOiVC,EAAA,ECQ7UC,aAAY1V,OAAAwN,EAAA,KAAAxN,CACdyV,EACApR,EACAsC,GACF,EACA,KACA,WACA,OAIegP,EAAAD,UCJfE,EAAA,CACAlU,KAAA,MACA8R,WAAA,CACAmC,WAEAtW,KALA,WAMA,OACA0E,GAAA,OAGA8N,QAVA,WAWA,IAAAgE,EAAAtS,KAAA4R,MAAAW,KAAApB,wBACAqB,EAAAxS,KAAA4R,MAAAa,YAAAtB,wBACAuB,EAAA1S,KAAA4R,MAAAe,YAAAxB,wBAEAnR,KAAAQ,GAAA,CACAqF,OAAAyM,EAAAM,MAAAN,EAAAO,KACA/M,QAAA0M,EAAAI,MAAAJ,EAAAK,KACA9M,QAAA2M,EAAAE,MAAAF,EAAAG,MAEAtF,QAAAmC,IAAA1P,KAAAQ,MCnC8TsS,EAAA,ECQ1TC,aAAYtW,OAAAwN,EAAA,KAAAxN,CACdqW,EACAhT,EACAe,GACF,EACA,KACA,KACA,OAIemS,EAAAD,UChBfE,OAAIC,OAAOC,eAAgB,EAC3BF,OAAIvW,UAAUkN,KAAO,IAAIqJ,OAEzB,IAAIA,OAAI,CACNG,OAAQ,SAAAC,GAAC,OAAIA,EAAEL,MACdM,OAAO,6CCRV,IAAAC,EAAA9V,EAAA,QAAA+V,EAAA/V,EAAA2B,EAAAmU,GAAkfC,EAAG,kHCArf,IAAAC,EAAAhW,EAAA,QAAAiW,EAAAjW,EAAA2B,EAAAqU,GAAmiBC,EAAG,qCCAtiB,IAAAC,EAAAlW,EAAA,QAAAmW,EAAAnW,EAAA2B,EAAAuU,GAAgiBC,EAAG,qCCAniB,IAAAC,EAAApW,EAAA,QAAAqW,EAAArW,EAAA2B,EAAAyU,GAAqiBC,EAAG","file":"js/app.4d483b59.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MindNode.vue?vue&type=style&index=0&id=0ff6d69a&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MindNode.vue?vue&type=style&index=0&id=0ff6d69a&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[(_vm.fw)?_c('MindMap',{attrs:{\"fontWidth\":_vm.fw}}):_vm._e(),_c('div',{staticClass:\"font-measure\"},[_c('span',{ref:\"fontCapital\"},[_vm._v(\"X\")]),_c('span',{ref:\"font\"},[_vm._v(\"x\")]),_c('span',{ref:\"fontChinese\"},[_vm._v(\"脑\")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('svg',{ref:\"svg\",attrs:{\"width\":\"100%\",\"height\":\"100%\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.handleSvgClick($event)},\"dblclick\":_vm.handleScaleTree,\"mousedown\":_vm.handleSvgMouseDown}},[_c('defs',[_c('g',{attrs:{\"id\":\"collapse\"}},[_c('rect',{staticStyle:{\"stroke\":\"var(--baseColor)\"},attrs:{\"x\":\"0\",\"y\":\"0\",\"rx\":\"4\",\"ry\":\"4\",\"width\":\"20\",\"height\":\"8\",\"stroke-width\":\"1\"}}),_c('path',{attrs:{\"stroke-dasharray\":\"0,6\",\"d\":\"M4 4 h13\",\"stroke-width\":\"4\",\"fill\":\"none\",\"stroke-linecap\":\"round\"}})]),_c('g',{attrs:{\"id\":\"add\"}},[_c('rect',{attrs:{\"x\":\"0\",\"y\":\"0\",\"rx\":\"2\",\"ry\":\"2\",\"width\":\"16\",\"height\":\"16\"}}),_c('path',{attrs:{\"d\":\"M 3,8 h 10 M 8,3 v 10\",\"stroke-width\":\"2\"}})]),_c('linearGradient',{attrs:{\"id\":\"nodeActiveTextBg\"}},[_c('stop',{staticStyle:{\"stop-color\":\"var(--activeTextBg)\"},attrs:{\"offset\":\"80%\"}}),_c('stop',{attrs:{\"offset\":\"20%\",\"stop-color\":\"rgba(0,0,0,0)\"}})],1),_c('rect',{staticStyle:{\"fill\":\"var(--pannelBg)\",\"stroke\":\"var(--warnColor)\"},attrs:{\"id\":\"note\",\"x\":\"0\",\"y\":\"0\",\"width\":\"8\",\"rx\":\"4\",\"ry\":\"4\",\"height\":\"8\",\"stroke-width\":\"1\"}})],1),(_vm.tree)?_c('MindNode',{ref:\"tree\",staticClass:\"tree-wraper\",class:{'no-transition':_vm.treeNoTransition},style:((\"transform:translate(\" + _vm.shiftX + \"px, \" + _vm.shiftY + \"px) scale(\" + _vm.scale + \")\")),attrs:{\"x\":\"0\",\"y\":\"0\",\"node\":_vm.tree}}):_vm._e()],1),(_vm.selectedNode)?_c('NotePanel',{attrs:{\"node\":_vm.selectedNode}}):_vm._e(),_c('Menu',{on:{\"zoomBy\":_vm.handleZoomBy,\"createTree\":_vm.handleCreateTree}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('g',{staticClass:\"node\",attrs:{\"tabindex\":\"0\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.handleNodeActive($event)},\"dblclick\":function($event){$event.stopPropagation();return _vm.handleEditName($event)},\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"delete\",[8,46],$event.key,[\"Backspace\",\"Delete\",\"Del\"])){ return null; }$event.stopPropagation();return _vm.handleRemoveNode($event)}}},[(_vm.pNode)?_c('path',{attrs:{\"d\":_vm.link}}):_vm._e(),_c('path',{attrs:{\"d\":_vm.path}}),_c('text',{staticClass:\"name\",attrs:{\"x\":_vm.node.x,\"y\":_vm.node.y-5}},[_vm._v(_vm._s(_vm.node.name))]),(_vm.hasChild() && _vm.node.isCollapse)?_c('use',{staticClass:\"collapse\",attrs:{\"x\":_vm.node.x+_vm.node.w,\"y\":_vm.node.y,\"xlink:href\":\"#collapse\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.handleToggleChildren($event)}}}):_vm._e(),(_vm.node.note)?_c('use',{attrs:{\"x\":_vm.node.x+_vm.node.w-20,\"y\":_vm.node.y-15,\"xlink:href\":\"#note\"}}):_vm._e(),_c('g',{staticClass:\"content\",on:{\"mouseover\":_vm.handleNodeMouseOver,\"mouseout\":_vm.handleNodeMouseOut}},[_c('rect',{staticClass:\"fake-node-placeholder\",attrs:{\"x\":_vm.node.x,\"y\":_vm.node.y-30,\"width\":_vm.node.w + _vm.addWidth + _vm.addShift,\"height\":\"30\"}}),_c('use',{staticClass:\"add\",attrs:{\"x\":_vm.node.x+_vm.node.w + _vm.addShift,\"y\":_vm.node.y - _vm.addWidth,\"xlink:href\":\"#add\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.handleAddNode($event)}}})]),_c('transition',{attrs:{\"name\":\"bloom\"}},[(_vm.hasChild() && !_vm.node.isCollapse)?_c('g',_vm._l((_vm.node.children),function(child,idx){return _c('MindNode',{key:((_vm.node.y) + \"_\" + (child.y) + \"_\" + idx),attrs:{\"pNode\":_vm.node,\"node\":child}})}),1):_vm._e()])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export function hierarchy (\n  root,\n  {\n    nodeHeight = 30,\n    nodeGap = 100,\n    fontWidth = { normal: 8, capital: 10, chinese: 12 },\n    paddingLeft = 20,\n    paddingRight = 10\n  } = {}\n) {\n  root.x = 0\n\n  function generateX (node) {\n    node.w = paddingRight + _getNameWidth(node.name, fontWidth) + paddingLeft\n    if (_hasChildren(node)) {\n      for (let child of node.children) {\n        // o--parent width---o\n        //                    \\---gap---o----children width----\n        // node.x + node.w     + nodeGap\n        child.x = node.x + node.w + nodeGap\n        generateX(child) // generate children width\n      }\n    } else {\n      node.children = []\n    }\n  }\n\n  let leafCnt = 0\n  function generateY (node) {\n    if (_hasChildren(node)) {\n      for (let child of node.children) {\n        generateY(child)\n      }\n      const len = node.children.length\n      node.y = (node.children[0].y + node.children[len - 1].y) / 2\n    } else {\n      node.y = leafCnt * nodeHeight\n      leafCnt++\n    }\n  }\n\n  generateX(root)\n  generateY(root)\n  return root\n}\n\nfunction _hasChildren (node) {\n  return node && node.children && node.children.length\n}\n\nfunction _getNameWidth (name, fontWidth) {\n  let width = 0\n  for (let i = 0; i < name.length; i++) {\n    if (/[a-z\\d`~!@#$%^&*()-_=+\\|\\\\}\\][{'\":;/?.>,< ]/.test(name[i])) {\n      width += fontWidth.normal\n    } else if (/[A-Z]/.test(name[i])) {\n      width += fontWidth.capital\n    } else {\n      width += fontWidth.chinese\n    }\n  }\n  return width || 100\n}\n","export function disActiveNode () {\n  for (let contentEl of document.querySelectorAll('svg .content')) {\n    contentEl.classList.remove('active')\n  }\n}\n","export const EVENT = {\n  TREE_REFRESH: 'tree:refresh',\n  NODE_SELECTED: 'node:selected',\n  TREE_EMPTY: 'tree:empty',\n  TREE_LOCATE: 'tree:locate'\n}\n","<template>\n  <g class=\"node\"\n     tabindex=\"0\"\n     @click.stop=\"handleNodeActive\"\n     @dblclick.stop=\"handleEditName\"\n     @keydown.delete.stop=\"handleRemoveNode\">\n    <path v-if=\"pNode\"\n          :d=\"link\"></path>\n    <path :d=\"path\"></path>\n    <text class=\"name\"\n          :x=\"node.x\"\n          :y=\"node.y-5\">{{node.name}}</text>\n    <use class=\"collapse\"\n         @click.stop=\"handleToggleChildren\"\n         v-if=\"hasChild() && node.isCollapse\"\n         :x=\"node.x+node.w\"\n         :y=\"node.y\"\n         xlink:href=\"#collapse\" />\n    <use :x=\"node.x+node.w-20\"\n         :y=\"node.y-15\"\n         v-if=\"node.note\"\n         xlink:href=\"#note\" />\n    <g class=\"content\"\n       @mouseover=\"handleNodeMouseOver\"\n       @mouseout=\"handleNodeMouseOut\">\n      <rect class=\"fake-node-placeholder\"\n            :x=\"node.x\"\n            :y=\"node.y-30\"\n            :width=\"node.w + addWidth + addShift\"\n            height=\"30\" />\n      <use class=\"add\"\n           @click.stop=\"handleAddNode\"\n           :x=\"node.x+node.w + addShift\"\n           :y=\"node.y - addWidth\"\n           xlink:href=\"#add\" />\n    </g>\n    <transition name=\"bloom\">\n      <g v-if=\"hasChild() && !node.isCollapse\">\n        <MindNode v-for=\"(child,idx) in node.children\"\n                  :pNode=\"node\"\n                  :key=\"`${node.y}_${child.y}_${idx}`\"\n                  :node=\"child\"></MindNode>\n      </g>\n    </transition>\n  </g>\n</template>\n\n<script>\nimport { hierarchy } from '../utils/hierarchy'\nimport { disActiveNode } from '../utils'\nimport { EVENT } from '../utils/constant'\nexport default {\n  name: 'MindNode',\n  props: {\n    node: {\n      type: Object\n    },\n    pNode: {\n      type: Object\n    }\n  },\n  computed: {\n    path () {\n      const { x, y, w } = this.node\n      return `M${x} ${y} h ${w} v 0`\n    },\n    link () {\n      const { x, y } = this.node\n      const { x: px, y: y0, w: w0 } = this.pNode\n      const x0 = px + w0\n      return `M${x0} ${y0}\n              C${(x0 + x) / 2} ${y0}, ${(x0 + x) / 2} ${y},\n              ${x} ${y}`\n    }\n  },\n  data () {\n    return {\n      addShift: 4,\n      addWidth: 16\n    }\n  },\n  methods: {\n    hasChild () {\n      return this.node && this.node.children.length\n    },\n    handleToggleChildren () {\n      window.getSelection().removeAllRanges()\n      this.$set(this.node, 'isCollapse', !this.node.isCollapse)\n    },\n    handleEditName (event) {\n      this.$set(this.node, 'isCollapse', !this.node.isCollapse)\n      // TODO: new vue component and mount it\n      // const nameEl = this.$el.querySelector('.name')\n      // const { left, top } = nameEl.getBoundingClientRect()\n      // const input = document.createElement('input')\n      // input.style.display = 'inline-block'\n      // input.style.width = this.node.w + 'px'\n      // input.style.height = '30px'\n      // input.style.position = 'fixed'\n      // input.style.left = left + 'px'\n      // input.style.top = top + 'px'\n      // input.value = this.node.name\n      // document.body.append(input)\n    },\n    handleNodeActive () {\n      disActiveNode()\n      this.$el.querySelector('.content').classList.add('active')\n      this._trigger(EVENT.NODE_SELECTED, this.node)\n    },\n    handleNodeMouseOver () {\n      this.$el.querySelector('.add').classList.add('show')\n    },\n    handleNodeMouseOut () {\n      this.$el.querySelector('.add').classList.remove('show')\n    },\n    handleAddNode () {\n      if (!this.node.children) {\n        this.node.children = []\n      }\n      this.node.children.push({\n        name: '',\n        children: []\n      })\n      this._trigger(EVENT.TREE_REFRESH)\n    },\n    handleRemoveNode () {\n      const parent = this.$parent.node\n      if (!parent) {\n        this._trigger(EVENT.TREE_EMPTY)\n      } else {\n        for (let i = 0; i < parent.children.length; i++) {\n          if (parent.children[i] === this.node) {\n            parent.children.splice(i, 1)\n            break\n          }\n        }\n        this.$bus.$emit(EVENT.TREE_REFRESH)\n      }\n    },\n    _trigger (event, data) {\n      this.$bus.$emit(event, data)\n    }\n  },\n  created () {\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\nsvg {\n  .node {\n    fill: none;\n    stroke: var(--baseColor);\n    stroke-width: 2px;\n    stroke-linecap: round;\n    outline: none;\n    &:focus,\n    &:active {\n      outline: none;\n    }\n  }\n  .name {\n    fill: var(--textColor);\n    font-size: 12px;\n    stroke: none;\n  }\n  .collapse {\n    transition: all 0.2s ease;\n    fill: var(--bgColor);\n    stroke: var(--baseColor);\n    &:hover {\n      fill: var(--baseColor);\n      stroke: var(--bgColor);\n    }\n  }\n  .add {\n    transition: all 0.2s ease;\n    fill: var(--bgColor);\n    stroke: var(--hintColor);\n    visibility: hidden;\n    transform: translate(0);\n    &:hover {\n      fill: var(--bgColor);\n      stroke: var(--warnColor);\n    }\n  }\n  .show {\n    visibility: visible;\n  }\n  .fake-node-placeholder {\n    stroke: none;\n    fill: rgba(0, 0, 0, 0);\n    // pointer-events: all;\n  }\n  .active .fake-node-placeholder {\n    fill: url(\"#nodeActiveTextBg\");\n  }\n}\n\n.bloom-enter-active {\n  transition: all 0.3s ease;\n}\n.bloom-leave-active {\n  transition: all 0.8s cubic-bezier(1, 0.5, 0.8, 1);\n}\n\n.bloom-enter,\n.bloom-leave-to {\n  transform: translateX(-20px);\n  opacity: 0;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MindNode.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MindNode.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MindNode.vue?vue&type=template&id=0ff6d69a&scoped=true&\"\nimport script from \"./MindNode.vue?vue&type=script&lang=js&\"\nexport * from \"./MindNode.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MindNode.vue?vue&type=style&index=0&id=0ff6d69a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0ff6d69a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"note-pannel-wraper\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.node.name),expression:\"node.name\"}],staticClass:\"name\",attrs:{\"type\":\"textarea\"},domProps:{\"value\":(_vm.node.name)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.$set(_vm.node, \"name\", $event.target.value)},_vm.handleNameChange]}}),_c('div',{staticClass:\"line-gap\"}),_c('div',{staticClass:\"tabs\"},[_c('div',{staticClass:\"tab\",class:{active:_vm.activeTabName==='preview'},on:{\"click\":_vm.handlePreview}},[_vm._v(\"Preview\")]),_c('div',{staticClass:\"tab\",class:{active:_vm.activeTabName==='edit'},on:{\"click\":_vm.handleEdit}},[_vm._v(\"Edit\")])]),_c('div',{staticClass:\"content-wraper\"},[(_vm.isPreview)?_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.content)}}):_c('div',{staticClass:\"editor\"},[_c('div',{staticClass:\"line\"}),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.node.note),expression:\"node.note\"}],staticClass:\"content\",domProps:{\"value\":(_vm.node.note)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.node, \"note\", $event.target.value)}}})])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"note-pannel-wraper\">\n    <textarea class=\"name\"\n              @input=\"handleNameChange\"\n              type=\"textarea\"\n              v-model=\"node.name\"></textarea>\n    <div class=\"line-gap\"></div>\n    <div class=\"tabs\">\n      <div class=\"tab\"\n           :class=\"{active:activeTabName==='preview'}\"\n           @click=\"handlePreview\">Preview</div>\n      <div class=\"tab\"\n           :class=\"{active:activeTabName==='edit'}\"\n           @click=\"handleEdit\">Edit</div>\n    </div>\n\n    <div class=\"content-wraper\">\n      <div v-if=\"isPreview\"\n           v-html=\"content\"></div>\n      <div v-else\n           class=\"editor\">\n        <div class=\"line\"></div>\n        <textarea class=\"content\"\n                  v-model=\"node.note\"></textarea>\n      </div>\n    </div>\n\n  </div>\n</template>\n\n<script>\nimport marked from 'marked'\nimport { EVENT } from '../utils/constant'\n\nexport default {\n  props: {\n    node: {\n      type: Object\n    }\n  },\n  computed: {\n    content () {\n      return marked(this.node.note || '')\n    },\n    isPreview () {\n      return this.activeTabName === 'preview'\n    }\n  },\n  data () {\n    return {\n      name: '',\n      activeTabName: 'preview'\n    }\n  },\n  methods: {\n    handleEdit () {\n      this.activeTabName = 'edit'\n    },\n    handlePreview () {\n      this.activeTabName = 'preview'\n    },\n    handleNameChange () {\n      this.$bus.$emit(EVENT.TREE_REFRESH)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.note-pannel-wraper {\n  position: fixed;\n  top: 0;\n  right: 0;\n  width: 400px;\n  bottom: 0;\n  overflow: auto;\n  background-color: var(--NoteBg);\n  padding: 10px;\n  box-sizing: border-box;\n  font-size: 14px;\n  display: flex;\n  flex-direction: column;\n  box-shadow: -4px 0 8px rgba(0,0,0,0.2);\n  .line-gap {\n    margin-top: 10px;\n    height: 1px;\n    background: var(--baseColor);\n  }\n  .content,\n  .name {\n    outline: none;\n    border: none;\n    padding: 10px;\n    display: inline-block;\n    width: 100%;\n    box-sizing: border-box;\n    &:focus {\n      outline: 1px solid var(--baseColor);\n    }\n  }\n  .name {\n    flex: 1 0 40px;\n  }\n  .tabs {\n    display: flex;\n\n    .tab {\n      position: relative;\n      padding-top: 6px;\n      width: 60px;\n      text-align: center;\n      user-select: none;\n      &.active:before {\n        content: \"\";\n      }\n      &:before {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 2px;\n        background-color: var(--baseColor);\n      }\n    }\n  }\n  .content-wraper {\n    margin-top: 10px;\n    padding: 20px 10px;\n    position: relative;\n    flex: 0 1 100%;\n    overflow: auto;\n    .editor {\n      height: 100%;\n    }\n    .content {\n      height: 100%;\n      font-size: 12px;\n      font-family: \"Courier New\", Courier, monospace;\n      resize: none;\n    }\n    // markded custom styles\n    // table\n    ::v-deep table {\n      margin: 10px;\n      border-top: 2px solid var(--textColor);\n      border-bottom: 2px solid var(--textColor);\n      border-collapse: collapse;\n      thead th {\n        border-bottom: 1px solid var(--textColor);\n      }\n      td,\n      th {\n        padding: 5px 10px;\n      }\n    }\n    // inline code\n    ::v-deep code {\n      border: 1px solid var(--hintColor);\n      background-color: var(--activeTextBg);\n      padding: 0 4px;\n      border-radius: 2px;\n    }\n    // block code\n    ::v-deep pre {\n      margin: 10px 0;\n      padding: 10px;\n      border-radius: 4px;\n      border: 1px solid var(--hintColor);\n      background-color: var(--activeTextBg);\n      & code {\n        border: none;\n        background-color: unset;\n      }\n    }\n    // quote\n    ::v-deep blockquote {\n      position: relative;\n      padding: 6px 10px;\n      overflow: visible;\n      margin: 10px;\n      &:before {\n        content: \"\";\n        position: absolute;\n        left: 0px;\n        top: 0;\n        bottom: 0;\n        width: 4px;\n        background: var(--hintColor);\n      }\n    }\n    // link\n    ::v-deep a {\n      position: relative;\n      color: var(--baseColor);\n      display: inline-block;\n      padding: 0 2px;\n      transition: all 0.2s ease;\n      font-weight: 500;\n      &:after {\n        position: absolute;\n        bottom: -2px;\n        left: 0;\n        content: \"\";\n        display: inline-block;\n        width: 100%;\n        height: 1px;\n        background: var(--baseColor);\n      }\n      &:hover {\n        background-color: var(--bgColor);\n      }\n    }\n    // image\n    ::v-deep img {\n      margin: 10px;\n      box-shadow: 4px 4px 16px rgba(0, 0, 0, 0.2);\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NotePanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NotePanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NotePanel.vue?vue&type=template&id=438b489d&scoped=true&\"\nimport script from \"./NotePanel.vue?vue&type=script&lang=js&\"\nexport * from \"./NotePanel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NotePanel.vue?vue&type=style&index=0&id=438b489d&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"438b489d\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"menu-wrap\"},[_c('button',{staticClass:\"menu theme\",attrs:{\"title\":\"night/day theme\"},on:{\"click\":_vm.handleTheme}}),_c('button',{staticClass:\"menu zoom-in\",attrs:{\"title\":\"zoom in\"},on:{\"click\":function($event){return _vm.handleZoom(_vm.scaleInterval)}}}),_c('button',{staticClass:\"menu zoom-out\",attrs:{\"title\":\"zoom out\"},on:{\"click\":function($event){return _vm.handleZoom(-_vm.scaleInterval)}}}),_c('button',{staticClass:\"menu auto\",attrs:{\"title\":\"auto fit\"},on:{\"click\":_vm.handleAuto}}),_c('label',{staticClass:\"menu import\",attrs:{\"tabindex\":\"-1\",\"title\":\"import from markdown file\",\"for\":\"invisibleFileReader\"}}),_c('input',{staticClass:\"menu\",attrs:{\"id\":\"invisibleFileReader\",\"type\":\"file\"},on:{\"change\":_vm.handleReadFile}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","let _id = 0\n\nexport class Node {\n  constructor () {\n    this.name = ''\n    this.id = _id++\n    this.x = this.y = 0\n    this.children = []\n    this.note = ''\n    this.isCollapse = false\n  }\n  print () {\n    console.log(this.id)\n  }\n}\n\nexport class RawDataNode {\n  constructor (name = '', note = '') {\n    this.name = name\n    this.note = note\n  }\n}\n","import { RawDataNode } from '../model/Node'\n\n/**\n * markdown format\n *\n * NODE: node must be divided by empty line, space is forbidden, differentiating from note content\n * NOTE: every line of note content should have the same start indent, see [demo.md](./demo.md)\n *\n * @param {*} text\n */\nexport function md2json (text, indentSize = 2) {\n  const lines = text.split(/\\r?\\n/)\n  const data = new RawDataNode()\n  let isInNote = false\n  let currentNode = data\n  let preInDentLen = 0\n\n  for (let i = 0; i < lines.length; i++) {\n    const line = lines[i]\n\n    if (/^()$/.test(line)) {\n      // a new node will be create by next (n) lines\n      isInNote = false\n      continue\n    }\n\n    if (isInNote) {\n      // append line to note\n      currentNode.note += line.slice(preInDentLen * indentSize + 1) + '\\n'\n      continue\n    }\n\n    const regRes = /([ ]{0,})([#-]{1,}) +(.*)/.exec(line)\n    if (!regRes) {\n      // invalid format linet, ignore\n      console.warn('get an invalid format line: ', line)\n      continue\n    }\n\n    isInNote = true\n\n    const [, indent, prefix, name] = regRes\n\n    // `#`, `##`, `###` no need dealing with indent, they are Level 1, Level 2, Level 3\n    // `-` should handle indent for Level N > 3\n    switch (prefix) {\n      case '#':\n        currentNode.name = name\n        currentNode.depth = 0\n        preInDentLen = 0\n        break\n      case '##':\n        currentNode = _handleCreateNode(name, 1, currentNode)\n        preInDentLen = 0\n        break\n      case '###':\n        currentNode = _handleCreateNode(name, 2, currentNode)\n        preInDentLen = 0\n        break\n      case '-':\n        preInDentLen = (indent.length / indentSize) | 0\n        currentNode = _handleCreateNode(name, preInDentLen + 3, currentNode)\n    }\n  }\n  return data\n}\n\nfunction _backwardForward (current, moves) {\n  return moves.reduce((node, move) => {\n    return node[move]\n  }, current)\n}\n\nfunction _handleCreateNode (name, depth, currentNode) {\n  const node = new RawDataNode(name)\n  node.depth = depth\n  const depthDiff = depth - currentNode.depth\n  let anchorNode = currentNode // default: new node is currentNode's child\n  if (depthDiff !== 1) {\n    // new node is current node's sibling node, === 0\n    // new node is current ndoe's parent(*n)'s child, < 0\n    const moves = new Array(Math.abs(depthDiff) + 1).fill('parent')\n    anchorNode = _backwardForward(currentNode, moves)\n  }\n\n  node.parent = anchorNode\n  if (!anchorNode.children) {\n    anchorNode.children = []\n  }\n  anchorNode.children.push(node)\n  return node\n}\n","<template>\n  <div class=\"menu-wrap\">\n    <button class=\"menu theme\"\n            title=\"night/day theme\"\n            @click=\"handleTheme\"></button>\n    <button class=\"menu zoom-in\"\n            title=\"zoom in\"\n            @click=\"handleZoom(scaleInterval)\"></button>\n    <button class=\"menu zoom-out\"\n            title=\"zoom out\"\n            @click=\"handleZoom(-scaleInterval)\"></button>\n    <button class=\"menu auto\"\n            title=\"auto fit\"\n            @click=\"handleAuto\"></button>\n\n    <label tabindex=\"-1\"\n           title=\"import from markdown file\"\n           class=\"menu import\"\n           for=\"invisibleFileReader\"></label>\n    <input id=\"invisibleFileReader\"\n           class=\"menu\"\n           type=\"file\"\n           @change=\"handleReadFile\">\n  </div>\n</template>\n\n<script>\nconst themeMap = {}\nimport { md2json } from '../utils/md2json'\nimport { EVENT } from '../utils/constant'\n\nexport default {\n  data () {\n    return {\n      scaleInterval: 0.2,\n      isNight: false\n    }\n  },\n  mounted () {\n    const rootStyle = getComputedStyle(document.documentElement);\n    ['night', 'light'].forEach(key => {\n      themeMap[key] = {\n        bg: rootStyle.getPropertyValue(`--${key}Bg`),\n        text: rootStyle.getPropertyValue(`--${key}Text`),\n        note: rootStyle.getPropertyValue(`--${key}Note`),\n      }\n    })\n\n  },\n  methods: {\n    handleZoom (val) {\n      this.$emit('zoomBy', val)\n    },\n    handleAuto () {\n      this.$bus.$emit(EVENT.TREE_LOCATE)\n    },\n    handleTheme () {\n      this.isNight = !this.isNight\n      const theme = themeMap[this.isNight ? 'night' : 'light']\n      document.documentElement.style.setProperty('--bgColor', theme.bg)\n      document.documentElement.style.setProperty('--textColor', theme.text)\n      document.documentElement.style.setProperty('--NoteBg', theme.note)\n    },\n    handleReadFile (event) {\n      let file = event.target.files[0]\n      let reader = new FileReader()\n\n      reader.readAsText(file)\n      reader.onload = () => {\n        const treeJson = md2json(reader.result)\n        this.$emit('createTree', treeJson)\n      }\n\n      reader.onerror = function () {\n        console.log(reader.error)\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../assets/sass/base.scss\";\n\n.menu-wrap {\n  position: fixed;\n  top: 20px;\n  left: 20px;\n  display: flex;\n  flex-direction: column;\n  z-index: $topZ;\n  .menu {\n    $menuSize: 30px;\n    margin-top: 10px;\n    display: inline-block;\n    width: $menuSize;\n    height: $menuSize;\n    border-radius: 50%;\n    border: none;\n    box-shadow: 1px 1px 8px rgba(0, 0, 0, 0.4);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background-color: white !important;\n    &:hover {\n      opacity: 0.9;\n      color: white;\n    }\n    &:focus {\n      outline: none;\n    }\n    &:active {\n      outline: none;\n      background-color: var(--baseColor);\n    }\n  }\n  .zoom-in {\n    background: no-repeat center/60% url(../assets/icons/zoom-in.svg);\n  }\n  .zoom-out {\n    background: no-repeat center/60% url(../assets/icons/zoom-out.svg);\n  }\n  .auto {\n    background: no-repeat center/60% url(../assets/icons/auto.svg);\n  }\n  .import {\n    background: no-repeat center/60% url(../assets/icons/import.svg);\n  }\n  .theme {\n    background: no-repeat center/60% url(../assets/icons/theme.svg);\n  }\n  #invisibleFileReader {\n    opacity: 0;\n    position: absolute;\n    left: -1000px;\n    top: -1000px;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Menu.vue?vue&type=template&id=50395d16&scoped=true&\"\nimport script from \"./Menu.vue?vue&type=script&lang=js&\"\nexport * from \"./Menu.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Menu.vue?vue&type=style&index=0&id=50395d16&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"50395d16\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <svg width=\"100%\"\n         ref=\"svg\"\n         @click.stop=\"handleSvgClick\"\n         @dblclick=\"handleScaleTree\"\n         @mousedown=\"handleSvgMouseDown\"\n         height=\"100%\">\n      <defs>\n        <g id=\"collapse\">\n          <rect x=\"0\"\n                y=\"0\"\n                rx=\"4\"\n                ry=\"4\"\n                width=\"20\"\n                height=\"8\"\n                stroke-width=\"1\"\n                style=\"stroke:var(--baseColor)\" />\n          <path stroke-dasharray=\"0,6\"\n                d=\"M4 4 h13\"\n                stroke-width=\"4\"\n                fill=\"none\"\n                style=\"\"\n                stroke-linecap=\"round\" />\n        </g>\n        <g id=\"add\">\n          <rect x=\"0\"\n                y=\"0\"\n                rx=\"2\"\n                ry=\"2\"\n                width=\"16\"\n                height=\"16\" />\n          <path d=\"M 3,8 h 10 M 8,3 v 10\"\n                stroke-width=\"2\" />\n        </g>\n        <linearGradient id=\"nodeActiveTextBg\">\n          <stop offset=\"80%\"\n                style=\"stop-color:var(--activeTextBg)\" />\n          <stop offset=\"20%\"\n                stop-color=\"rgba(0,0,0,0)\" />\n        </linearGradient>\n        <rect id=\"note\"\n              x=\"0\"\n              y=\"0\"\n              width=\"8\"\n              rx=\"4\"\n              ry=\"4\"\n              height=\"8\"\n              stroke-width=\"1\"\n              style=\"fill:var(--pannelBg);stroke:var(--warnColor)\" />\n      </defs>\n      <MindNode ref=\"tree\"\n                v-if=\"tree\"\n                class=\"tree-wraper\"\n                x=\"0\"\n                y=\"0\"\n                :class=\"{'no-transition':treeNoTransition}\"\n                :style=\"`transform:translate(${shiftX}px, ${shiftY}px) scale(${scale})`\"\n                :node=\"tree\"></MindNode>\n    </svg>\n    <NotePanel v-if=\"selectedNode\"\n               :node=\"selectedNode\" />\n    <Menu @zoomBy=\"handleZoomBy\"\n          @createTree=\"handleCreateTree\" />\n  </div>\n</template>\n<script>\nimport MindNode from './MindNode.vue'\nimport NotePanel from './NotePanel.vue'\nimport Menu from './Menu.vue'\nimport { hierarchy } from '../utils/hierarchy'\n\nimport { disActiveNode } from '../utils'\nimport { EVENT } from '../utils/constant'\nlet svgRect = {}\nconst scaleMin = 0.1\n\nexport default {\n  components: {\n    MindNode,\n    NotePanel,\n    Menu\n  },\n  props: {\n    fontWidth: {\n      type: Object\n    }\n  },\n  data () {\n    return {\n      tree: {},\n      selectedNode: null,\n      scale: 1,\n      shiftX: 0,\n      shiftY: 0,\n      treeEl: null,\n      svgEl: null,\n      preMousePos: { x: 0, y: 0 },\n      treeNoTransition: false\n    }\n  },\n  methods: {\n    handleSelectNode (node) {\n      this.selectedNode = node\n    },\n    handleSvgClick () {\n      disActiveNode()\n      this.selectedNode = null\n    },\n    handleEmptyTree () {\n      this.tree = null\n      this.selectedNode = null\n    },\n    handleScaleTree () {\n      this.scale *= 1.5\n    },\n    _onMouseMove (event) {\n      this.shiftX += (event.clientX - this.preMousePos.x)\n      this.shiftY += (event.clientY - this.preMousePos.y)\n      this.preMousePos = { x: event.clientX, y: event.clientY }\n    },\n    handleSvgMouseDown (event) {\n      this._beforeTransform()\n      this.preMousePos = { x: event.clientX, y: event.clientY }\n      document.addEventListener('mousemove', this._onMouseMove)\n      this.svgEl.onmouseup = () => {\n        this._afterTransform()\n        document.removeEventListener('mousemove', this._onMouseMove)\n        this.svgEl.onmouseup = null\n      }\n    },\n    handleReadFile (event) {\n      let file = event.target.files[0]\n      let reader = new FileReader()\n\n      reader.readAsText(file)\n      reader.onload = () => {\n        this.tree = hierarchy(md2json(reader.result), { fontWidth: this.fontWidth })\n        this.$nextTick(this._centerTree)\n      }\n\n      reader.onerror = function () {\n        console.log(reader.error)\n      }\n    },\n    _centerTree () {\n      const treeRect = this.treeEl.getBoundingClientRect()\n      const svgRect = this.svgEl.getBoundingClientRect()\n\n      if (treeRect.width > svgRect.width || treeRect.height > svgRect.height) {\n        const scale = Math.min(svgRect.width / treeRect.width, svgRect.height / treeRect.height)\n        // this._zoom(scale)\n      }\n\n      this.shiftX = (svgRect.width - treeRect.width) / 2\n      this.shiftY = (svgRect.height - treeRect.height) / 2\n    },\n    _beforeTransform () {\n      this.treeNoTransition = true\n    },\n    _afterTransform () {\n      this.treeNoTransition = false\n    },\n    handleZoomBy (by) {\n      this._zoom(this.scale + by)\n    },\n    _zoom (scale) {\n      if (scale > scaleMin) {\n        this.scale = scale\n      } else {\n        this.scale = scaleMin\n      }\n    },\n    handleCreateTree (treeJson) {\n      this.tree = hierarchy(treeJson, { fontWidth: this.fontWidth })\n      this.$nextTick(this._centerTree)\n    }\n  },\n  created () {\n    this.$bus.$on(EVENT.NODE_SELECTED, this.handleSelectNode)\n    this.$bus.$on(EVENT.TREE_EMPTY, this.handleEmptyTree)\n    this.$bus.$on(EVENT.TREE_REFRESH, () => {\n      this.tree = hierarchy(this.tree, { fontWidth: this.fontWidth })\n    })\n\n    this.$bus.$on(EVENT.TREE_LOCATE, this._centerTree)\n    console.log({ fontWidth: this.fontWidth })\n    this.tree = hierarchy({\n      'name': 'Top level',\n      'note': \"```js\\n  const name = 'jonge'\\n```\",\n      'children': [\n        { 'name': 'Top 2 level -1' },\n        {\n          'name': 'Top 2 level -2',\n          'children': [\n            {\n              'name': 'Top 3 level -1',\n              'note': '## note\\n> interesting'\n            },\n            {\n              'name': 'Top 3 level -2'\n            }\n          ]\n        },\n        { 'name': 'Top 2 level -3' }\n      ]\n    }, { fontWidth: this.fontWidth })\n  },\n  mounted () {\n    const vm = this\n    this.treeEl = this.$refs.tree.$el\n    this.svgEl = this.$refs.svg\n    this._centerTree()\n\n    window.addEventListener('resize', () => {\n      vm._centerTree()\n    })\n\n    window.addEventListener('wheel', (event) => {\n      // if(event.target.tagName==='SVG')\n\n      if (event.ctrlKey) {\n        event.preventDefault()\n        this._beforeTransform()\n        this._zoom(-event.deltaY * 0.008)\n        this.$nextTick(() => {\n          this._afterTransform()\n        })\n      }\n      //  else {\n      //   this.shiftX -= event.deltaX * 0.9\n      //   this.shiftY -= event.deltaY * 0.9\n      // }\n    }, { passive: false })\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\nsvg#collapse {\n  all: inherit;\n}\n\nsvg {\n  background-color: var(--bgColor);\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  overflow: visible;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  .tree-wraper {\n    transition: all 0.2s ease;\n    &.no-transition {\n      transition: none;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MindMap.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MindMap.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MindMap.vue?vue&type=template&id=0ef2a863&scoped=true&\"\nimport script from \"./MindMap.vue?vue&type=script&lang=js&\"\nexport * from \"./MindMap.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MindMap.vue?vue&type=style&index=0&id=0ef2a863&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0ef2a863\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\">\n    <MindMap v-if=\"fw\"\n             :fontWidth=\"fw\" />\n    <div class=\"font-measure\">\n      <span ref=\"fontCapital\">X</span>\n      <span ref=\"font\">x</span>\n      <span ref=\"fontChinese\">脑</span>\n    </div>\n  </div>\n</template>\n\n<script>\nimport MindMap from './components/MindMap.vue'\n\nexport default {\n  name: 'app',\n  components: {\n    MindMap\n  },\n  data () {\n    return {\n      fw: null\n    }\n  },\n  mounted () {\n    const rect = this.$refs.font.getBoundingClientRect()\n    const capitalRect = this.$refs.fontCapital.getBoundingClientRect()\n    const chineseRect = this.$refs.fontChinese.getBoundingClientRect()\n\n    this.fw = {\n      normal: rect.right - rect.left,\n      capital: capitalRect.right - capitalRect.left,\n      chinese: chineseRect.right - chineseRect.left\n    }\n    console.log(this.fw)\n  }\n}\n</script>\n\n<style lang=\"scss\">\n@import './assets/sass/base.scss';\n\n#app {\n  font-family: \"Avenir\", Helvetica, Arial, sans-serif;\n  color: var(--textColor);\n  margin-top: 60px;\n}\n.font-measure {\n  position: absolute;\n  opacity: 0;\n  font-size: 12px;\n}\n\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=3f34055a&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport App from './App.vue'\n\nVue.config.productionTip = false\nVue.prototype.$bus = new Vue()\n\nnew Vue({\n  render: h => h(App)\n}).$mount('#app')\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MindMap.vue?vue&type=style&index=0&id=0ef2a863&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MindMap.vue?vue&type=style&index=0&id=0ef2a863&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menu.vue?vue&type=style&index=0&id=50395d16&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menu.vue?vue&type=style&index=0&id=50395d16&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NotePanel.vue?vue&type=style&index=0&id=438b489d&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NotePanel.vue?vue&type=style&index=0&id=438b489d&lang=scss&scoped=true&\""],"sourceRoot":""}